<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="baidu-site-verification" content="code-wBoEgdV6ng" />
    <meta name="keywords" content="小白零基础7天学会Python Scrapy爬虫之旅, 比特人生的世界">
    <meta name="description" content="想做做有趣实用小东西的手艺人">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-190338047-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-190338047-1');
</script>


    <title>小白零基础7天学会Python Scrapy爬虫之旅 | 比特人生的世界</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>




<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">比特人生的世界</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">比特人生的世界</div>
        <div class="logo-desc">
            
            想做做有趣实用小东西的手艺人
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/7.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">小白零基础7天学会Python Scrapy爬虫之旅</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/python/">
                                <span class="chip bg-color">python</span>
                            </a>
                        
                            <a href="/tags/scrapy/">
                                <span class="chip bg-color">scrapy</span>
                            </a>
                        
                            <a href="/tags/%E7%88%AC%E8%99%AB/">
                                <span class="chip bg-color">爬虫</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/MarsRescue/" class="post-category">
                                MarsRescue
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-03-16
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    30.5k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    120 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="小白零基础7天学会Python-Scrapy爬虫之旅"><a href="#小白零基础7天学会Python-Scrapy爬虫之旅" class="headerlink" title="小白零基础7天学会Python Scrapy爬虫之旅"></a>小白零基础7天学会Python Scrapy爬虫之旅</h2><p>赏花赏月赏秋香，爬影爬花爬职场 </p>
<p>7天之旅带你爬取<strong>最受欢迎的电影、各大高校的校花、量身打造求职信息</strong>；</p>
<h2 id="一、2天学会Python语法之路"><a href="#一、2天学会Python语法之路" class="headerlink" title="一、2天学会Python语法之路"></a>一、2天学会Python语法之路</h2><h3 id="1-1-环境搭建"><a href="#1-1-环境搭建" class="headerlink" title="1.1 环境搭建"></a>1.1 环境搭建</h3><h4 id="1-1-1-下载"><a href="#1-1-1-下载" class="headerlink" title="1.1.1 下载"></a>1.1.1 下载</h4><p><strong>Anaconda+Pycharm？</strong>合理的搭配，安装包全，兼容性好，开发界面友好</p>
<p>缺点：因为全，安装包太大，还要去下载两款软件再安装，再配置。</p>
<p>有没有拎包入住的版本？有的，以下提供了VSCode的Python便携版本，大小只有180MB多。解压双击Code.bat即可享用，不用安装、便携小巧、方便携带，可以放在U盘中，随时插入到任何电脑运行，而你要做的只是双击Code.bat运行即可。</p>
<p>下载地址：</p>
<pre><code>链接：https://pan.baidu.com/s/1AfiX7OJe120Ytg4V__hEFQ
提取码：1234</code></pre>
<p>压缩包名称：VSCode32_Python_Portable.zip</p>
<p>顺便提一下，Anaconda安装包带的Jupyter Notebook也非常好用，使用Anaconda环境的崭新小伙伴不要错过😄。</p>
<h4 id="1-1-2-运行"><a href="#1-1-2-运行" class="headerlink" title="1.1.2 运行"></a>1.1.2 运行</h4><p>解压后，进入VSCode32_Python_Portable目录，找到<strong>双击我运行.bat</strong>并运行，可以看到如下界面</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/image-20210308104054991.png" alt="VSCode界面"></p>
<h4 id="1-1-3-验证"><a href="#1-1-3-验证" class="headerlink" title="1.1.3 验证"></a>1.1.3 验证</h4><p>为了验证环境是否能够进行Python的开发，咱们创建第一个Python程序，步骤如下：</p>
<p>1、在无特殊符号无中文的目录下，创建一个用于存放Python源代码的目录；</p>
<p>2、在刚打开的界面中选择打开文件夹，并选择这个目录；</p>
<p>3、在这个目录下创建一个Python源代码文件，并输入以下内容；</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/image-20210308104804271.png" alt="第一个Python程序"></p>
<p>以上黄色的BASE是打开的源代码目录名称，黄色箭头指向的是这个目录存放的位置；</p>
<p>first.py是在base目录下创建的python代码文件，红色箭头指向的是first.py的代码，里面有两行内容：</p>
<pre><code># coding=utf-8表示这个文件的编码方式是utf-8格式的
print是一个打印函数，会向终端中打印数据，打印的数据内容由()中的内容指定，
这里咱们提供的是hello world字符串</code></pre>
<h4 id="1-1-4-运行第一个代码"><a href="#1-1-4-运行第一个代码" class="headerlink" title="1.1.4 运行第一个代码"></a>1.1.4 运行第一个代码</h4><p>点击first.py文件，点击F5快捷按键，选择Python文件选项，开始运行咱们的第一个Python代码，看到终端显示hello world代表环境成功。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/image-20210308105511590.png" alt="第一个Python程序运行结果"></p>
<h3 id="1-2-Python基础语法"><a href="#1-2-Python基础语法" class="headerlink" title="1.2 Python基础语法"></a>1.2 Python基础语法</h3><h4 id="1-2-1-编码"><a href="#1-2-1-编码" class="headerlink" title="1.2.1 编码"></a>1.2.1 编码</h4><p>有时候我们打开的文件会乱码，这是什么问题呢？</p>
<p>这是因为在计算机中保存的数据都是通过不同的编码保存的，如果打开的软件不知道这个文件是通过什么编码保存的，就不能以正确的方式打开，显示的内容就会错误啦。</p>
<p>因此，我们可以通过在文件中指定文件的编码方式来解决，Python文件通过以下两种方式指定文件的编码方式：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>或者</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>其中utf-8代表的是一种编码方式，也是Python默认的编码方式。</p>
<p>关于编码的问题渊远流长，可以参考<a target="_blank" href="https://www.jianshu.com/p/36d20de2a1ee" rel="external nofollow noreferrer noopener">这篇文章</a>了解来龙去脉。</p>
<h4 id="1-2-2-标识符"><a href="#1-2-2-标识符" class="headerlink" title="1.2.2 标识符"></a>1.2.2 标识符</h4><p>在Python3中已经可以使用中文作为变量名称了</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

字符串<span class="token operator">=</span><span class="token string">'hello'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>字符串<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出的结果是hello，其中的<strong>字符串</strong>是一个变量名称。</p>
<p>其他的标识符约束：</p>
<ul>
<li>  第一个字符必须是字母表中字母或下划线 <strong>_</strong> 。</li>
<li>  标识符的其他的部分由字母、数字和下划线组成。</li>
<li>  标识符对大小写敏感。</li>
</ul>
<h4 id="1-2-3-Python保留字"><a href="#1-2-3-Python保留字" class="headerlink" title="1.2.3 Python保留字"></a>1.2.3 Python保留字</h4><p>Python语言有自己的语法规则，而这些语法规则使用了一些文字，比如<strong>if</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上的代码含义是，如果条件为真，则输出hello，其中的if就是Python语言中用于判断真假的语法关键字，已经被占用了，咱们就不能再使用了。像这样的还有很多，我们称之为保留字。</p>
<p>Python的保留字可以通过以下方式获取</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">import</span> keyword
<span class="token keyword">print</span><span class="token punctuation">(</span>keyword<span class="token punctuation">.</span>kwlist<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出的保留关键字结果如下：</p>
<pre><code>[&#39;False&#39;, &#39;None&#39;, &#39;True&#39;, &#39;and&#39;, &#39;as&#39;, &#39;assert&#39;, &#39;async&#39;, &#39;await&#39;, &#39;break&#39;, &#39;class&#39;, &#39;continue&#39;, &#39;def&#39;, &#39;del&#39;, &#39;elif&#39;, &#39;else&#39;, 
&#39;except&#39;, &#39;finally&#39;, &#39;for&#39;, &#39;from&#39;, &#39;global&#39;, &#39;if&#39;, &#39;import&#39;, &#39;in&#39;, &#39;is&#39;, &#39;lambda&#39;, &#39;nonlocal&#39;, &#39;not&#39;, &#39;or&#39;, &#39;pass&#39;, &#39;raise&#39;, &#39;return&#39;, &#39;try&#39;, &#39;while&#39;, &#39;with&#39;, &#39;yield&#39;]</code></pre>
<h4 id="1-2-4-注释"><a href="#1-2-4-注释" class="headerlink" title="1.2.4 注释"></a>1.2.4 注释</h4><p>Python中的注释一般是#开头，多行使用’’’或者”””</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token triple-quoted-string string">'''
这是一条注释
'''</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Hello, Python!'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-5-行与缩进"><a href="#1-2-5-行与缩进" class="headerlink" title="1.2.5 行与缩进"></a>1.2.5 行与缩进</h4><p>Python的缩进需要特别注意，同一级别的代码块的缩进要保持相同，否则会出现逻辑或异常，例如：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'True'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Really True'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"False"</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'why false'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上的代码由于第8行缩进的问题，会执行异常，尝试使用相同的缩进，使得代码运行正常，并猜测打印出的结果。</p>
<h4 id="1-2-6-多行语句"><a href="#1-2-6-多行语句" class="headerlink" title="1.2.6 多行语句"></a>1.2.6 多行语句</h4><p>如果一条语句很长的时候，我们需要使用续行符来表示他们是属于同一行的，要注意续航符后面不能有字符哦。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

totalString <span class="token operator">=</span> <span class="token string">'Hello'</span> <span class="token operator">+</span> \
        <span class="token string">', '</span> <span class="token operator">+</span> \
        <span class="token string">'Python!'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>totalString<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出的结果为：</p>
<pre><code>Hello, Python!</code></pre>
<h4 id="1-2-7-数字Number类型"><a href="#1-2-7-数字Number类型" class="headerlink" title="1.2.7 数字Number类型"></a>1.2.7 数字Number类型</h4><p>python中数字有四种类型：整数、布尔型、浮点数和复数。</p>
<ul>
<li>  <strong>int</strong> (整数), 如 1, 只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</li>
<li>  <strong>bool</strong> (布尔), 如 True。</li>
<li>  <strong>float</strong> (浮点数), 如 1.23、3E-2</li>
<li>  <strong>complex</strong> (复数), 如 1 + 2j、 1.1 + 2.2j</li>
</ul>
<h4 id="1-2-8-字符串"><a href="#1-2-8-字符串" class="headerlink" title="1.2.8 字符串"></a>1.2.8 字符串</h4><ul>
<li>  python中单引号和双引号使用完全相同。</li>
<li>  使用三引号(‘’’或”””)可以指定一个多行字符串。</li>
<li>  转义符 ‘&#39;</li>
<li>  反斜杠可以用来转义，使用r可以让反斜杠不发生转义。。 如 r”this is a line with \n” 则\n会显示，并不是换行。</li>
<li>  按字面意义级联字符串，如”this “ “is “ “string”会被自动转换为this is string。</li>
<li>  字符串可以用 + 运算符连接在一起，用 * 运算符重复。</li>
<li>  Python 中的字符串有两种索引方式，从左往右以 0 开始，从右往左以 -1 开始。</li>
<li>  Python中的字符串不能改变。</li>
<li>  Python 没有单独的字符类型，一个字符就是长度为 1 的字符串。</li>
<li>  字符串的截取的语法格式如下：<strong>变量[头下标:尾下标:步长]</strong></li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

word <span class="token operator">=</span> <span class="token string">'字符串'</span>
sentence <span class="token operator">=</span> <span class="token string">"这是一个句子。"</span>
paragraph <span class="token operator">=</span> <span class="token triple-quoted-string string">"""这是一个段落，
可以由多行组成"""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>实例</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

str<span class="token operator">=</span><span class="token string">'Hello!'</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>                 <span class="token comment" spellcheck="true"># 输出字符串</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>           <span class="token comment" spellcheck="true"># 输出第一个到倒数第二个的所有字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>              <span class="token comment" spellcheck="true"># 输出字符串第一个字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 输出从第三个开始到第五个的字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token comment" spellcheck="true"># 输出从第三个开始后的所有字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true"># 输出从第二个开始到第五个且每隔两个的字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>             <span class="token comment" spellcheck="true"># 输出字符串两次</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str <span class="token operator">+</span> <span class="token string">'你好'</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 连接字符串</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'------------------------------'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello\nworld'</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true"># 使用反斜杠(\)+n转义特殊字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token string">'hello\nworld'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 在字符串前面添加一个 r，表示原始字符串，不会发生转义</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里的 r 指 raw，即 raw string，会自动将反斜杠转义，例如：</p>
<pre><code>&gt;&gt;&gt; print(&#39;\n&#39;)       # 输出空行

&gt;&gt;&gt; print(r&#39;\n&#39;)      # 输出 \n
\n
&gt;&gt;&gt;</code></pre>
<p>以上实例输出结果：</p>
<pre><code>Hello!
Hello
H
llo
llo!
el
Hello!Hello!
Hello!你好
------------------------------
hello
world
hello\nworld</code></pre>
<h4 id="1-2-9-空行"><a href="#1-2-9-空行" class="headerlink" title="1.2.9 空行"></a>1.2.9 空行</h4><p>函数之间或类的方法之间用空行分隔，表示一段新的代码的开始。类和函数入口之间也用一行空行分隔，以突出函数入口的开始。</p>
<p>空行与代码缩进不同，空行并不是Python语法的一部分。书写时不插入空行，Python解释器运行也不会出错。但是空行的作用在于分隔两段不同功能或含义的代码，便于日后代码的维护或重构。</p>
<p><strong>记住：</strong>空行也是程序代码的一部分。</p>
<h4 id="1-2-10-用户输入"><a href="#1-2-10-用户输入" class="headerlink" title="1.2.10 用户输入"></a>1.2.10 用户输入</h4><p>执行下面的程序在按回车键后就会等待用户输入：</p>
<pre class="line-numbers language-python"><code class="language-python">input<span class="token punctuation">(</span><span class="token string">"\n\n按下 enter 键后退出。"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="1-2-11-一行多条语句"><a href="#1-2-11-一行多条语句" class="headerlink" title="1.2.11 一行多条语句"></a>1.2.11 一行多条语句</h4><p>Python可以在同一行中使用多条语句，语句之间使用分号(;)分割，以下是一个简单的实例：</p>
<pre class="line-numbers language-python"><code class="language-python">content <span class="token operator">=</span> <span class="token string">'python'</span><span class="token punctuation">;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="1-2-12-import与from-import"><a href="#1-2-12-import与from-import" class="headerlink" title="1.2.12 import与from import"></a>1.2.12 import与from import</h4><p>在 python 用 <strong>import</strong> 或者 <strong>from…import</strong> 来导入相应的模块。</p>
<p>将整个模块(somemodule)导入，格式为： <strong>import somemodule</strong></p>
<p>从某个模块中导入某个函数,格式为： <strong>from somemodule import somefunction</strong></p>
<p>从某个模块中导入多个函数,格式为： <strong>from somemodule import firstfunc, secondfunc, thirdfunc</strong></p>
<p>将某个模块中的全部函数导入，格式为： <strong>from somemodule import *</strong></p>
<p>导入sys模块</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'================Python import mode=========================='</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'命令行参数为:'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'\n python 路径为'</span><span class="token punctuation">,</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>导入sys模块的argv, path # 导入特定的成员</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> sys <span class="token keyword">import</span> argv<span class="token punctuation">,</span>path  <span class="token comment" spellcheck="true">#  导入特定的成员</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'================python from import==================================='</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'path:'</span><span class="token punctuation">,</span>path<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 因为已经导入path成员，所以此处引用时不需要加sys.path</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-13-命令行参数"><a href="#1-2-13-命令行参数" class="headerlink" title="1.2.13 命令行参数"></a>1.2.13 命令行参数</h4><pre class="line-numbers language-bash"><code class="language-bash">python first.py arg1 arg2 arg3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Python 中也可以所用 <strong>sys</strong> 的 <strong>sys.argv</strong> 来获取命令行参数：</p>
<ul>
<li>  <strong>sys.argv</strong> 是命令行参数列表。</li>
<li>  <strong>len(sys.argv)</strong> 计算命令行参数个数。</li>
</ul>
<p><strong>注：**</strong>sys.argv[0]** 表示脚本名。</p>
<p>示例：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> sys

<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'参数个数为:'</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'个参数。'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'参数列表:'</span><span class="token punctuation">,</span> str<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'脚本名:'</span><span class="token punctuation">,</span> str<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>执行以上代码，输出结果为：</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ python3 first.py arg1 arg2 arg3
参数个数为: 4 个参数。
参数列表: <span class="token punctuation">[</span><span class="token string">'first.py'</span>, <span class="token string">'arg1'</span>, <span class="token string">'arg2'</span>, <span class="token string">'arg3'</span><span class="token punctuation">]</span>
脚本名: first.py<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>Python 提供了 <strong>getopt</strong> 模块来获取命令行参数。</p>
<h4 id="1-2-14-算术运算符"><a href="#1-2-14-算术运算符" class="headerlink" title="1.2.14 算术运算符"></a>1.2.14 算术运算符</h4><p>以下假设变量a为10，变量b为21：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">加 - 两个对象相加</td>
<td align="left">a + b 输出结果 31</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">减 - 得到负数或是一个数减去另一个数</td>
<td align="left">a - b 输出结果 -11</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">乘 - 两个数相乘或是返回一个被重复若干次的字符串</td>
<td align="left">a * b 输出结果 210</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">除 - x 除以 y</td>
<td align="left">b / a 输出结果 2.1</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">取模 - 返回除法的余数</td>
<td align="left">b % a 输出结果 1</td>
</tr>
<tr>
<td align="left">**</td>
<td align="left">幂 - 返回x的y次幂</td>
<td align="left">a**b 为10的21次方</td>
</tr>
<tr>
<td align="left">//</td>
<td align="left">取整除 - 向下取接近商的整数</td>
<td align="left"><code>&gt;&gt;&gt; 9//2 4 &gt;&gt;&gt; -9//2 -5</code></td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有算术运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">21</span>
b <span class="token operator">=</span> <span class="token number">10</span>
c <span class="token operator">=</span> <span class="token number">0</span>

c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">-</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">*</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">/</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">%</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 修改变量 a 、b 、c</span>
a <span class="token operator">=</span> <span class="token number">2</span>
b <span class="token operator">=</span> <span class="token number">3</span>
c <span class="token operator">=</span> a<span class="token operator">**</span>b 
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"6 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

a <span class="token operator">=</span> <span class="token number">10</span>
b <span class="token operator">=</span> <span class="token number">5</span>
c <span class="token operator">=</span> a<span class="token operator">//</span>b 
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"7 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - c 的值为： 31
2 - c 的值为： 11
3 - c 的值为： 210
4 - c 的值为： 2.1
5 - c 的值为： 1
6 - c 的值为： 8
7 - c 的值为： 2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-15-比较运算符"><a href="#1-2-15-比较运算符" class="headerlink" title="1.2.15 比较运算符"></a>1.2.15 比较运算符</h4><p>以下假设变量a为10，变量b为20：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">==</td>
<td align="left">等于 - 比较对象是否相等</td>
<td align="left">(a == b) 返回 False。</td>
</tr>
<tr>
<td align="left">!=</td>
<td align="left">不等于 - 比较两个对象是否不相等</td>
<td align="left">(a != b) 返回 True。</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于 - 返回x是否大于y</td>
<td align="left">(a &gt; b) 返回 False。</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。注意，这些变量名的大写。</td>
<td align="left">(a &lt; b) 返回 True。</td>
</tr>
<tr>
<td align="left">&gt;=</td>
<td align="left">大于等于 - 返回x是否大于等于y。</td>
<td align="left">(a &gt;= b) 返回 False。</td>
</tr>
<tr>
<td align="left">&lt;=</td>
<td align="left">小于等于 - 返回x是否小于等于y。</td>
<td align="left">(a &lt;= b) 返回 True。</td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有比较运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">21</span>
b <span class="token operator">=</span> <span class="token number">10</span>
c <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">==</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - a 等于 b"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - a 不等于 b"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">!=</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - a 不等于 b"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - a 等于 b"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">&lt;</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - a 小于 b"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - a 大于等于 b"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">></span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - a 大于 b"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - a 小于等于 b"</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 修改变量 a 和 b 的值</span>
a <span class="token operator">=</span> <span class="token number">5</span>
b <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">&lt;=</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - a 小于等于 b"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - a 大于  b"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> b <span class="token operator">>=</span> a <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"6 - b 大于等于 a"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"6 - b 小于 a"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - a 不等于 b
2 - a 不等于 b
3 - a 大于等于 b
4 - a 大于 b
5 - a 小于等于 b
6 - b 大于等于 a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-16-赋值运算符"><a href="#1-2-16-赋值运算符" class="headerlink" title="1.2.16 赋值运算符"></a>1.2.16 赋值运算符</h4><p>以下假设变量a为10，变量b为20：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">=</td>
<td align="left">简单的赋值运算符</td>
<td align="left">c = a + b 将 a + b 的运算结果赋值为 c</td>
</tr>
<tr>
<td align="left">+=</td>
<td align="left">加法赋值运算符</td>
<td align="left">c += a 等效于 c = c + a</td>
</tr>
<tr>
<td align="left">-=</td>
<td align="left">减法赋值运算符</td>
<td align="left">c -= a 等效于 c = c - a</td>
</tr>
<tr>
<td align="left">*=</td>
<td align="left">乘法赋值运算符</td>
<td align="left">c *= a 等效于 c = c * a</td>
</tr>
<tr>
<td align="left">/=</td>
<td align="left">除法赋值运算符</td>
<td align="left">c /= a 等效于 c = c / a</td>
</tr>
<tr>
<td align="left">%=</td>
<td align="left">取模赋值运算符</td>
<td align="left">c %= a 等效于 c = c % a</td>
</tr>
<tr>
<td align="left">**=</td>
<td align="left">幂赋值运算符</td>
<td align="left">c **= a 等效于 c = c ** a</td>
</tr>
<tr>
<td align="left">//=</td>
<td align="left">取整除赋值运算符</td>
<td align="left">c //= a 等效于 c = c // a</td>
</tr>
<tr>
<td align="left">:=</td>
<td align="left">海象运算符，可在表达式内部为变量赋值。<strong>Python3.8 版本新增运算符</strong>。</td>
<td align="left">在这个示例中，赋值表达式可以避免调用 len() 两次:<code>if (n := len(a)) &gt; 10:    print(f&quot;List is too long (&#123;n&#125; elements, expected &lt;= 10)&quot;)</code></td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有赋值运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">21</span>
b <span class="token operator">=</span> <span class="token number">10</span>
c <span class="token operator">=</span> <span class="token number">0</span>

c <span class="token operator">=</span> a <span class="token operator">+</span> b
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">+=</span> a
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">*=</span> a
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">/=</span> a 
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> <span class="token number">2</span>
c <span class="token operator">%=</span> a
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">**=</span> a
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"6 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">//=</span> a
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"7 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上示例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - c 的值为： 31
2 - c 的值为： 52
3 - c 的值为： 1092
4 - c 的值为： 52.0
5 - c 的值为： 2
6 - c 的值为： 2097152
7 - c 的值为： 99864<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-17-位运算符"><a href="#1-2-17-位运算符" class="headerlink" title="1.2.17 位运算符"></a>1.2.17 位运算符</h4><p>按位运算符是把数字看作二进制来进行计算的。Python中的按位运算法则如下：</p>
<p>下表中变量 a 为 60，b 为 13二进制格式如下：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">0011</span> <span class="token number">1100</span>
b <span class="token operator">=</span> <span class="token number">0000</span> <span class="token number">1101</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
a<span class="token operator">&amp;</span>b <span class="token operator">=</span> <span class="token number">0000</span> <span class="token number">1100</span>
a<span class="token operator">|</span>b <span class="token operator">=</span> <span class="token number">0011</span> <span class="token number">1101</span>
a<span class="token operator">^</span>b <span class="token operator">=</span> <span class="token number">0011</span> <span class="token number">0001</span>
<span class="token operator">~</span>a  <span class="token operator">=</span> <span class="token number">1100</span> <span class="token number">0011</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0</td>
<td align="left">(a &amp; b) 输出结果 12 ，二进制解释： 0000 1100</td>
</tr>
<tr>
<td align="left">|</td>
<td align="left">按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。</td>
<td align="left">(a | b) 输出结果 61 ，二进制解释： 0011 1101</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">按位异或运算符：当两对应的二进位相异时，结果为1</td>
<td align="left">(a ^ b) 输出结果 49 ，二进制解释： 0011 0001</td>
</tr>
<tr>
<td align="left">~</td>
<td align="left">按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1。**~x** 类似于 <strong>-x-1</strong></td>
<td align="left">(~a ) 输出结果 -61 ，二进制解释： 1100 0011， 在一个有符号二进制数的补码形式。</td>
</tr>
<tr>
<td align="left">&lt;&lt;</td>
<td align="left">左移动运算符：运算数的各二进位全部左移若干位，由”&lt;&lt;”右边的数指定移动的位数，高位丢弃，低位补0。</td>
<td align="left">a &lt;&lt; 2 输出结果 240 ，二进制解释： 1111 0000</td>
</tr>
<tr>
<td align="left">&gt;&gt;</td>
<td align="left">右移动运算符：把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，”&gt;&gt;”右边的数指定移动的位数</td>
<td align="left">a &gt;&gt; 2 输出结果 15 ，二进制解释： 0000 1111</td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有位运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">60</span>            <span class="token comment" spellcheck="true"># 60 = 0011 1100 </span>
b <span class="token operator">=</span> <span class="token number">13</span>            <span class="token comment" spellcheck="true"># 13 = 0000 1101 </span>
c <span class="token operator">=</span> <span class="token number">0</span>

c <span class="token operator">=</span> a <span class="token operator">&amp;</span> b        <span class="token comment" spellcheck="true"># 12 = 0000 1100</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">|</span> b        <span class="token comment" spellcheck="true"># 61 = 0011 1101 </span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">^</span> b        <span class="token comment" spellcheck="true"># 49 = 0011 0001</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> <span class="token operator">~</span>a           <span class="token comment" spellcheck="true"># -61 = 1100 0011</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">&lt;&lt;</span> <span class="token number">2</span>       <span class="token comment" spellcheck="true"># 240 = 1111 0000</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>

c <span class="token operator">=</span> a <span class="token operator">>></span> <span class="token number">2</span>       <span class="token comment" spellcheck="true"># 15 = 0000 1111</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"6 - c 的值为："</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - c 的值为： 12
2 - c 的值为： 61
3 - c 的值为： 49
4 - c 的值为： -61
5 - c 的值为： 240
6 - c 的值为： 15<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-18-逻辑运算符"><a href="#1-2-18-逻辑运算符" class="headerlink" title="1.2.18 逻辑运算符"></a>1.2.18 逻辑运算符</h4><p>Python语言支持逻辑运算符，以下假设变量 a 为 10, b为 20:</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">逻辑表达式</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">and</td>
<td align="left">x and y</td>
<td align="left">布尔”与” - 如果 x 为 False，x and y 返回 x 的值，否则返回 y 的计算值。</td>
<td align="left">(a and b) 返回 20。</td>
</tr>
<tr>
<td align="left">or</td>
<td align="left">x or y</td>
<td align="left">布尔”或” - 如果 x 是 True，它返回 x 的值，否则它返回 y 的计算值。</td>
<td align="left">(a or b) 返回 10。</td>
</tr>
<tr>
<td align="left">not</td>
<td align="left">not x</td>
<td align="left">布尔”非” - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。</td>
<td align="left">not(a and b) 返回 False</td>
</tr>
</tbody></table>
<p>示例：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>
b <span class="token operator">=</span> <span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">and</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - 变量 a 和 b 都为 true"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - 变量 a 和 b 有一个不为 true"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">or</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - 变量 a 和 b 都为 true，或其中一个变量为 true"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - 变量 a 和 b 都不为 true"</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 修改变量 a 的值</span>
a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">and</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - 变量 a 和 b 都为 true"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - 变量 a 和 b 有一个不为 true"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">or</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - 变量 a 和 b 都为 true，或其中一个变量为 true"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - 变量 a 和 b 都不为 true"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token operator">not</span><span class="token punctuation">(</span> a <span class="token operator">and</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - 变量 a 和 b 都为 false，或其中一个变量为 false"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5 - 变量 a 和 b 都为 true"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token number">1</span> <span class="token operator">-</span> 变量 a 和 b 都为 true
<span class="token number">2</span> <span class="token operator">-</span> 变量 a 和 b 都为 true，或其中一个变量为 true
<span class="token number">3</span> <span class="token operator">-</span> 变量 a 和 b 有一个不为 true
<span class="token number">4</span> <span class="token operator">-</span> 变量 a 和 b 都为 true，或其中一个变量为 true
<span class="token number">5</span> <span class="token operator">-</span> 变量 a 和 b 都为 false，或其中一个变量为 false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-19-成员运算符"><a href="#1-2-19-成员运算符" class="headerlink" title="1.2.19 成员运算符"></a>1.2.19 成员运算符</h4><p>除了以上的一些运算符之外，Python还支持成员运算符，测试实例中包含了一系列的成员，包括字符串，列表或元组。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">in</td>
<td align="left">如果在指定的序列中找到值返回 True，否则返回 False。</td>
<td align="left">x 在 y 序列中 , 如果 x 在 y 序列中返回 True。</td>
</tr>
<tr>
<td align="left">not in</td>
<td align="left">如果在指定的序列中没有找到值返回 True，否则返回 False。</td>
<td align="left">x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True。</td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有成员运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>
b <span class="token operator">=</span> <span class="token number">20</span>
list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token keyword">in</span> list <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - 变量 a 在给定的列表中 list 中"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - 变量 a 不在给定的列表中 list 中"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> b <span class="token operator">not</span> <span class="token keyword">in</span> list <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - 变量 b 不在给定的列表中 list 中"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - 变量 b 在给定的列表中 list 中"</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 修改变量 a 的值</span>
a <span class="token operator">=</span> <span class="token number">2</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token keyword">in</span> list <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - 变量 a 在给定的列表中 list 中"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - 变量 a 不在给定的列表中 list 中"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - 变量 a 不在给定的列表中 list 中
2 - 变量 b 不在给定的列表中 list 中
3 - 变量 a 在给定的列表中 list 中<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-20-身份运算符"><a href="#1-2-20-身份运算符" class="headerlink" title="1.2.20 身份运算符"></a>1.2.20 身份运算符</h4><p>身份运算符用于比较两个对象的存储单元</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">is</td>
<td align="left">is 是判断两个标识符是不是引用自一个对象</td>
<td align="left"><strong>x is y</strong>, 类似 <strong>id(x) == id(y)</strong> , 如果引用的是同一个对象则返回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">is not</td>
<td align="left">is not 是判断两个标识符是不是引用自不同对象</td>
<td align="left"><strong>x is not y</strong> ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。</td>
</tr>
</tbody></table>
<p><strong>注：</strong> <a target="_blank" href="https://www.runoob.com/python/python-func-id.html" rel="external nofollow noreferrer noopener">id()</a> 函数用于获取对象内存地址。</p>
<p>以下实例演示了Python所有身份运算符的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">20</span>
b <span class="token operator">=</span> <span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token keyword">is</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - a 和 b 有相同的标识"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"1 - a 和 b 没有相同的标识"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> id<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">==</span> id<span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - a 和 b 有相同的标识"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"2 - a 和 b 没有相同的标识"</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># 修改变量 b 的值</span>
b <span class="token operator">=</span> <span class="token number">30</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token keyword">is</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - a 和 b 有相同的标识"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"3 - a 和 b 没有相同的标识"</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token keyword">is</span> <span class="token operator">not</span> b <span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - a 和 b 没有相同的标识"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"4 - a 和 b 有相同的标识"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash">1 - a 和 b 有相同的标识
2 - a 和 b 有相同的标识
3 - a 和 b 没有相同的标识
4 - a 和 b 没有相同的标识<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>is 与 == 区别：</p>
<p>is 用于判断两个变量引用对象是否为同一个， == 用于判断引用变量的值是否相等。</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token operator">>></span><span class="token operator">></span>a <span class="token operator">=</span> <span class="token punctuation">[</span>1, 2, 3<span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> a
<span class="token operator">>></span><span class="token operator">></span> b is a 
True
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">==</span> a
True
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> a<span class="token punctuation">[</span>:<span class="token punctuation">]</span>
<span class="token operator">>></span><span class="token operator">></span> b is a
False
<span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">==</span> a
True<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-2-21-运算符优先级"><a href="#1-2-21-运算符优先级" class="headerlink" title="1.2.21 运算符优先级"></a>1.2.21 运算符优先级</h4><p>以下表格列出了从最高到最低优先级的所有运算符：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">**</td>
<td align="left">指数 (最高优先级)</td>
</tr>
<tr>
<td align="left">~ + -</td>
<td align="left">按位翻转, 一元加号和减号 (最后两个的方法名为 +@ 和 -@)</td>
</tr>
<tr>
<td align="left">* / % //</td>
<td align="left">乘，除，求余数和取整除</td>
</tr>
<tr>
<td align="left">+ -</td>
<td align="left">加法减法</td>
</tr>
<tr>
<td align="left">&gt;&gt; &lt;&lt;</td>
<td align="left">右移，左移运算符</td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left">位 ‘AND’</td>
</tr>
<tr>
<td align="left">^ |</td>
<td align="left">位运算符</td>
</tr>
<tr>
<td align="left">&lt;= &lt; &gt; &gt;=</td>
<td align="left">比较运算符</td>
</tr>
<tr>
<td align="left">== !=</td>
<td align="left">等于运算符</td>
</tr>
<tr>
<td align="left">= %= /= //= -= += *= **=</td>
<td align="left">赋值运算符</td>
</tr>
<tr>
<td align="left">is is not</td>
<td align="left">身份运算符</td>
</tr>
<tr>
<td align="left">in not in</td>
<td align="left">成员运算符</td>
</tr>
<tr>
<td align="left">not and or</td>
<td align="left">逻辑运算符</td>
</tr>
</tbody></table>
<p>以下实例演示了Python所有运算符优先级的操作：</p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">20</span>
b <span class="token operator">=</span> <span class="token number">10</span>
c <span class="token operator">=</span> <span class="token number">15</span>
d <span class="token operator">=</span> <span class="token number">5</span>
e <span class="token operator">=</span> <span class="token number">0</span>

e <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> c <span class="token operator">/</span> d       <span class="token comment" spellcheck="true">#( 30 * 15 ) / 5</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"(a + b) * c / d 运算结果为："</span><span class="token punctuation">,</span>  e<span class="token punctuation">)</span>

e <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token operator">/</span> d     <span class="token comment" spellcheck="true"># (30 * 15 ) / 5</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"((a + b) * c) / d 运算结果为："</span><span class="token punctuation">,</span>  e<span class="token punctuation">)</span>

e <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>c <span class="token operator">/</span> d<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># (30) * (15/5)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"(a + b) * (c / d) 运算结果为："</span><span class="token punctuation">,</span>  e<span class="token punctuation">)</span>

e <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token operator">/</span> d      <span class="token comment" spellcheck="true">#  20 + (150/5)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"a + (b * c) / d 运算结果为："</span><span class="token punctuation">,</span>  e<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">(</span>a + b<span class="token punctuation">)</span> * c / d 运算结果为： 90.0
<span class="token punctuation">((</span>a + b<span class="token punctuation">)</span> * c<span class="token punctuation">)</span> / d 运算结果为： 90.0
<span class="token punctuation">(</span>a + b<span class="token punctuation">)</span> * <span class="token punctuation">(</span>c / d<span class="token punctuation">)</span> 运算结果为： 90.0
a + <span class="token punctuation">(</span>b * c<span class="token punctuation">)</span> / d 运算结果为： 50.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>and 拥有更高优先级:</p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> <span class="token boolean">True</span>
y <span class="token operator">=</span> <span class="token boolean">False</span>
z <span class="token operator">=</span> <span class="token boolean">False</span>

<span class="token keyword">if</span> x <span class="token operator">or</span> y <span class="token operator">and</span> z<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"yes"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上实例输出结果：yes</p>
<p><strong>注意：</strong>Pyhton3 已不支持 &lt;&gt; 运算符，可以使用 != 代替</p>
<h4 id="练习1：实现数学公式的计算"><a href="#练习1：实现数学公式的计算" class="headerlink" title="练习1：实现数学公式的计算"></a>练习1：实现数学公式的计算</h4><ol>
<li> 分别求5和2之间的和、差、积、商（带小数）、商（取整）、余数，并将结果打印出来</li>
<li> 求半径为2.5的圆的面积，将结果打印出来</li>
</ol>
<p>参考框架</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true">#定义变量用于保存数字5和2</span>
    <span class="token comment" spellcheck="true">#求得这两个变量的和、差、积、商、余数，并将结果打印</span>
    <span class="token comment" spellcheck="true">#定义半径的变量</span>
    <span class="token comment" spellcheck="true">#求圆的面积，将结果打印出来</span>
    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="练习2：学生管理系统1-0"><a href="#练习2：学生管理系统1-0" class="headerlink" title="练习2：学生管理系统1.0"></a>练习2：学生管理系统1.0</h4><pre><code>学生管理系统是一款用于班级管理的软件，其最终功能有：学生信息录入、学生信息修改、学生信息查找、学生信息删除、排序、统计、保存到文件等。随着学习的逐步深入，我们将这套系统分为5个版本来实现，首先我们实现学生管理系统的1.0版本，主要功能有：

1.定义变量，保存三个学生的学号、姓名、年龄、身高
2.打印三个学生的信息
3.求三个学生年龄和身高的平均值,且年龄精确到整数，身高精确到小数点两位数
4.动态输入一个学生信息，使用变量保存，并打印</code></pre>
<p>​    </p>
<h3 id="1-3-Python控制语句"><a href="#1-3-Python控制语句" class="headerlink" title="1.3 Python控制语句"></a>1.3 Python控制语句</h3><h4 id="1-3-1-if语句"><a href="#1-3-1-if语句" class="headerlink" title="1.3.1 if语句"></a>1.3.1 if语句</h4><p><strong>简单if语法举例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>执行以上代码，会打印hello</p>
<p><strong>语法说明</strong></p>
<p><strong>if</strong>表示判断，而if后面冒号之前是判断的条件，如果为真则执行冒号后面的代码，否则不执行。</p>
<p><strong>if else语法举例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python">var <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"请输入1个数字: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> var<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'条件为真'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'条件为假'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上使用input输入一个int类型的整数赋值给var，当var不为0时执行if后面的语句，否则执行else后面的语句，把以上代码拷贝到python源代码文件中，查看执行结果。</p>
<p><strong>if elif else语法举例：</strong></p>
<pre class="line-numbers language-python"><code class="language-python">score <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"请输入1个分数: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> score <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'你要上天吗'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> score <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'你是不是考了个寂寞'</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> score <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'一个鸭蛋？就很棒~'</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'你考了%d分'</span> <span class="token operator">%</span> score<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上使用input输入一个int类型的整数赋值给score，先执行if判断，分数如果大于100分，执行if后面的语句，否则再次进行下面的elif判断，如果满足则执行，否则继续elif判断，最后如果都不满足条件，会执行else中的代码。</p>
<p>试试拷贝以上的代码，放到源代码中执行，分析结果和你想象的是否一致。</p>
<p>*<em>练习：狗的年龄和对应人的年龄，公式为22+(age-2)<em>5，其中age为狗子的年龄</em></em></p>
<p>参考代码如下：</p>
<pre class="line-numbers language-python"><code class="language-python">age <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"请输入你家狗子的年龄: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> age <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Are you kidding me!"</span><span class="token punctuation">)</span>
<span class="token keyword">elif</span> age <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"相当于 14 岁的人。"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span> age <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">:</span>
    human <span class="token operator">=</span> <span class="token number">22</span> <span class="token operator">+</span> <span class="token punctuation">(</span>age <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">5</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"相当于 % 岁的人。"</span><span class="token punctuation">,</span> human<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-3-2-while循环"><a href="#1-3-2-while循环" class="headerlink" title="1.3.2 while循环"></a>1.3.2 while循环</h4><p>语法规则</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">while</span> 判断条件：
    执行语句<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>简单示例，计算1到10的加和：</p>
<pre class="line-numbers language-python"><code class="language-python">n <span class="token operator">=</span> <span class="token number">100</span>
sum <span class="token operator">=</span> <span class="token number">0</span>
counter <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">while</span> counter <span class="token operator">&lt;=</span> n<span class="token punctuation">:</span>
    sum <span class="token operator">=</span> sum <span class="token operator">+</span> counter
    counter <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"1 到 %d 之和为: %d"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>n<span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>练习，输入一个数字，直到猜到它为止</strong></p>
<p>以下是参考代码</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 该实例演示了数字猜谜游戏</span>
number <span class="token operator">=</span> <span class="token number">7</span>
guess <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"数字猜谜游戏!"</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> guess <span class="token operator">!=</span> number<span class="token punctuation">:</span>
    guess <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token string">"请输入你猜的数字："</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> guess <span class="token operator">==</span> number<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"恭喜，你猜对了！"</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token keyword">elif</span> guess <span class="token operator">&lt;</span> number<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"猜的数字小了..."</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> guess <span class="token operator">></span> number<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"猜的数字大了..."</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-3-3-for循环"><a href="#1-3-3-for循环" class="headerlink" title="1.3.3 for循环"></a>1.3.3 for循环</h4><p>语法：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">for</span> <span class="token operator">&lt;</span>variable<span class="token operator">></span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>sequence<span class="token operator">></span><span class="token punctuation">:</span>
    <span class="token operator">&lt;</span>statements<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>语法：遍历列表sequence，并把每一次遍历的值赋值给variable，并执行statements语句</p>
<p>举例：</p>
<pre class="line-numbers language-python"><code class="language-python">fourKing <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"马斯克"</span><span class="token punctuation">,</span> <span class="token string">"巴菲特"</span><span class="token punctuation">,</span> <span class="token string">"马云"</span><span class="token punctuation">,</span> <span class="token string">"我"</span><span class="token punctuation">]</span> 
<span class="token keyword">for</span> person <span class="token keyword">in</span> fourKing<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'四位的财富加起来已经超过了2万亿人民币'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="练习1：完成BMI指数"><a href="#练习1：完成BMI指数" class="headerlink" title="练习1：完成BMI指数"></a>练习1：完成BMI指数</h4><p>1、看看自己身体是否达标，并提示相关建议；</p>
<p>2、给定一组列表，完成对BMI的判断和建议提醒；</p>
<p>BMI指数：英文为Body Mass Index，简称BMI，是用体重千克数除以身高米数的平方得出的数字，以下是数据参考。</p>
<table>
<thead>
<tr>
<th>BMI 分类</th>
<th>WHO标准</th>
<th>亚洲标准</th>
<th>中国参考标准</th>
<th>相关疾病发病的危险性</th>
</tr>
</thead>
<tbody><tr>
<td>体重过低</td>
<td>BMI&lt;18.5</td>
<td>BMI&lt;18.5</td>
<td>BMI&lt;18.5</td>
<td>低（但其它疾病危险性增加）</td>
</tr>
<tr>
<td>正常范围</td>
<td>18.5≤BMI&lt;25</td>
<td>18.5≤BMI&lt;23</td>
<td>18.5≤BMI&lt;24</td>
<td>平均水平</td>
</tr>
<tr>
<td>超重</td>
<td>BMI≥25</td>
<td>BMI≥23</td>
<td>BMI≥24</td>
<td>增加</td>
</tr>
<tr>
<td>肥胖前期</td>
<td>25≤BMI&lt;30</td>
<td>23≤BMI&lt;25</td>
<td>24≤BMI&lt;28</td>
<td>增加</td>
</tr>
<tr>
<td>I度肥胖</td>
<td>30≤BMI&lt;35</td>
<td>25≤BMI&lt;30</td>
<td>28≤BMI&lt;30</td>
<td>中度增加</td>
</tr>
<tr>
<td>II度肥胖</td>
<td>35≤BMI&lt;40</td>
<td>30≤BMI&lt;40</td>
<td>30≤BMI&lt;40</td>
<td>严重增加</td>
</tr>
<tr>
<td>Ⅲ度肥胖</td>
<td>BMI≥40.0</td>
<td>BMI≥40.0</td>
<td>BMI≥40.0</td>
<td>非常严重增加</td>
</tr>
</tbody></table>
<p>亚洲人士体型对照表，上下10%均为正常。</p>
<p><strong>男子标准体重对照表（千克，厘米）</strong></p>
<table>
<thead>
<tr>
<th>年龄|身高</th>
<th>152</th>
<th>156</th>
<th>160</th>
<th>164</th>
<th>168</th>
<th>172</th>
<th>176</th>
<th>180</th>
<th>184</th>
<th>188</th>
</tr>
</thead>
<tbody><tr>
<td>19</td>
<td>51</td>
<td>53</td>
<td>54</td>
<td>55</td>
<td>57</td>
<td>60</td>
<td>62</td>
<td>65</td>
<td>69</td>
<td>72</td>
</tr>
<tr>
<td>21</td>
<td>51</td>
<td>53</td>
<td>54</td>
<td>55</td>
<td>57</td>
<td>60</td>
<td>62</td>
<td>65</td>
<td>69</td>
<td>72</td>
</tr>
<tr>
<td>23</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>58</td>
<td>60</td>
<td>63</td>
<td>66</td>
<td>70</td>
<td>73</td>
</tr>
<tr>
<td>25</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>67</td>
<td>70</td>
<td>74</td>
</tr>
<tr>
<td>27</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
</tr>
<tr>
<td>29</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
</tr>
<tr>
<td>31</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>65</td>
<td>68</td>
<td>72</td>
<td>75</td>
</tr>
<tr>
<td>33</td>
<td>54</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>63</td>
<td>65</td>
<td>68</td>
<td>72</td>
<td>75</td>
</tr>
<tr>
<td>35</td>
<td>54</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>66</td>
<td>69</td>
<td>72</td>
<td>76</td>
</tr>
<tr>
<td>37</td>
<td>55</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>66</td>
<td>69</td>
<td>73</td>
<td>76</td>
</tr>
<tr>
<td>39</td>
<td>55</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>61</td>
<td>64</td>
<td>66</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>41</td>
<td>55</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>43</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>45</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>47</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>65</td>
<td>67</td>
<td>71</td>
<td>75</td>
<td>78</td>
</tr>
<tr>
<td>49</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>65</td>
<td>68</td>
<td>71</td>
<td>75</td>
<td>78</td>
</tr>
<tr>
<td>51</td>
<td>57</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>65</td>
<td>68</td>
<td>71</td>
<td>75</td>
<td>78</td>
</tr>
<tr>
<td>53</td>
<td>57</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>65</td>
<td>68</td>
<td>71</td>
<td>75</td>
<td>78</td>
</tr>
<tr>
<td>55</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>65</td>
<td>68</td>
<td>71</td>
<td>75</td>
<td>78</td>
</tr>
<tr>
<td>57</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>60</td>
<td>62</td>
<td>65</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>59</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>61</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>63</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>65</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>67</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>69</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>64</td>
<td>67</td>
<td>70</td>
<td>74</td>
<td>77</td>
</tr>
<tr>
<td>年龄|身高cm</td>
<td>152</td>
<td>156</td>
<td>160</td>
<td>164</td>
<td>168</td>
<td>172</td>
<td>176</td>
<td>180</td>
<td>184</td>
<td>188</td>
</tr>
</tbody></table>
<p><strong>女子标准体重对照表 千克，厘米（参考）</strong></p>
<table>
<thead>
<tr>
<th>年龄|身高</th>
<th>152</th>
<th>156</th>
<th>160</th>
<th>162</th>
<th>164</th>
<th>166</th>
<th>168</th>
<th>170</th>
<th>172</th>
<th>176</th>
</tr>
</thead>
<tbody><tr>
<td>19</td>
<td>46</td>
<td>47</td>
<td>49</td>
<td>50</td>
<td>51</td>
<td>52</td>
<td>54</td>
<td>56</td>
<td>58</td>
<td>60</td>
</tr>
<tr>
<td>21</td>
<td>46</td>
<td>47</td>
<td>49</td>
<td>50</td>
<td>51</td>
<td>52</td>
<td>54</td>
<td>56</td>
<td>58</td>
<td>60</td>
</tr>
<tr>
<td>23</td>
<td>46</td>
<td>47</td>
<td>49</td>
<td>50</td>
<td>51</td>
<td>52</td>
<td>54</td>
<td>56</td>
<td>58</td>
<td>60</td>
</tr>
<tr>
<td>25</td>
<td>46</td>
<td>48</td>
<td>49</td>
<td>50</td>
<td>51</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>59</td>
<td>61</td>
</tr>
<tr>
<td>27</td>
<td>47</td>
<td>48</td>
<td>50</td>
<td>51</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>59</td>
<td>61</td>
</tr>
<tr>
<td>29</td>
<td>47</td>
<td>49</td>
<td>51</td>
<td>52</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>62</td>
</tr>
<tr>
<td>31</td>
<td>48</td>
<td>49</td>
<td>51</td>
<td>52</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>58</td>
<td>60</td>
<td>62</td>
</tr>
<tr>
<td>33</td>
<td>48</td>
<td>50</td>
<td>51</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>63</td>
</tr>
<tr>
<td>35</td>
<td>49</td>
<td>50</td>
<td>52</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>63</td>
</tr>
<tr>
<td>37</td>
<td>49</td>
<td>51</td>
<td>53</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>59</td>
<td>60</td>
<td>61</td>
<td>64</td>
</tr>
<tr>
<td>39</td>
<td>50</td>
<td>52</td>
<td>53</td>
<td>53</td>
<td>55</td>
<td>57</td>
<td>59</td>
<td>60</td>
<td>62</td>
<td>65</td>
</tr>
<tr>
<td>41</td>
<td>51</td>
<td>52</td>
<td>54</td>
<td>54</td>
<td>55</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>65</td>
</tr>
<tr>
<td>43</td>
<td>51</td>
<td>53</td>
<td>55</td>
<td>55</td>
<td>56</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>66</td>
</tr>
<tr>
<td>45</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>55</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>66</td>
</tr>
<tr>
<td>47</td>
<td>52</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>67</td>
</tr>
<tr>
<td>49</td>
<td>52</td>
<td>53</td>
<td>56</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>60</td>
<td>62</td>
<td>63</td>
<td>67</td>
</tr>
<tr>
<td>51</td>
<td>52</td>
<td>54</td>
<td>56</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>63</td>
<td>67</td>
</tr>
<tr>
<td>53</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>56</td>
<td>58</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>64</td>
<td>67</td>
</tr>
<tr>
<td>55</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>61</td>
<td>63</td>
<td>64</td>
<td>67</td>
</tr>
<tr>
<td>57</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>61</td>
<td>63</td>
<td>64</td>
<td>68</td>
</tr>
<tr>
<td>59</td>
<td>53</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>58</td>
<td>60</td>
<td>61</td>
<td>63</td>
<td>64</td>
<td>68</td>
</tr>
<tr>
<td>61</td>
<td>53</td>
<td>54</td>
<td>56</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>63</td>
<td>64</td>
<td>67</td>
</tr>
<tr>
<td>63</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>63</td>
<td>67</td>
</tr>
<tr>
<td>65</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>63</td>
<td>66</td>
</tr>
<tr>
<td>67</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>63</td>
<td>66</td>
</tr>
<tr>
<td>69</td>
<td>52</td>
<td>54</td>
<td>55</td>
<td>56</td>
<td>57</td>
<td>59</td>
<td>61</td>
<td>62</td>
<td>63</td>
<td>66</td>
</tr>
<tr>
<td>年龄|身高</td>
<td>152</td>
<td>156</td>
<td>160</td>
<td>162</td>
<td>164</td>
<td>166</td>
<td>168</td>
<td>170</td>
<td>172</td>
<td>176</td>
</tr>
</tbody></table>
<h4 id="练习2：学生管理系统2-0"><a href="#练习2：学生管理系统2-0" class="headerlink" title="练习2：学生管理系统2.0"></a>练习2：学生管理系统2.0</h4><pre><code>学生管理系统是一款用于班级管理的软件，其最终功能有：学生信息录入、学生信息修改、学生信息查找、学生信息删除、排序、统计、保存到文件等。随着学习的逐步深入，我们将这套系统分为5个版本来实现，在1.0的基础上，现在实现学生管理系统的2.0版本，主要功能有：
1.计算三名同学身高的最大值、最小值
2.动态输入N名学生的信息，并打印
3.已知班级有50个学生，学号从100依次增加，即100~149，现要求:
学号能被5整除的周一打扫卫生
能被4整除的周二打扫（不包括周一打扫的）
第一个能被5整除且能被3整除的学生为劳动委员
请分别打印出周一打扫、周二打扫、劳动委员的学生学号</code></pre>
<h3 id="1-4-Python数据类型"><a href="#1-4-Python数据类型" class="headerlink" title="1.4 Python数据类型"></a>1.4 Python数据类型</h3><h4 id="1-4-1-标准数据类型"><a href="#1-4-1-标准数据类型" class="headerlink" title="1.4.1 标准数据类型"></a>1.4.1 标准数据类型</h4><p>Python3 中有六个标准的数据类型：</p>
<ul>
<li>  Number（数字）</li>
<li>  String（字符串）</li>
<li>  List（列表）</li>
<li>  Tuple（元组）</li>
<li>  Set（集合）</li>
<li>  Dictionary（字典）</li>
</ul>
<p>Python3 的六个标准数据类型中：</p>
<ul>
<li><p><strong>不可变数据（3 个）：</strong>Number（数字）、String（字符串）、Tuple（元组）；</p>
</li>
<li><p><strong>可变数据（3 个）：</strong>List（列表）、Dictionary（字典）、Set（集合）。</p>
</li>
</ul>
<h4 id="1-4-2-Number（数字）"><a href="#1-4-2-Number（数字）" class="headerlink" title="1.4.2 Number（数字）"></a>1.4.2 Number（数字）</h4><p>Python3 支持 <strong>int、float、bool、complex（复数）</strong>。</p>
<p>在Python 3里，只有一种整数类型 int，表示为长整型，没有 python2 中的 Long。</p>
<p>像大多数语言一样，数值类型的赋值和计算都是很直观的。</p>
<p>内置的 type() 函数可以用来查询变量所指的对象类型。</p>
<h4 id="1-4-3-String（字符串）"><a href="#1-4-3-String（字符串）" class="headerlink" title="1.4.3 String（字符串）"></a>1.4.3 String（字符串）</h4><p>字符串的基本可以参考上一节的Python基础语法部分，以下是字符串的内建函数：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">方法及描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-capitalize.html" rel="external nofollow noreferrer noopener">capitalize()</a> 将字符串的第一个字符转换为大写</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-center.html" rel="external nofollow noreferrer noopener">center(width, fillchar)</a> 返回一个指定的宽度 width 居中的字符串，fillchar 为填充的字符，默认为空格。</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-count.html" rel="external nofollow noreferrer noopener">count(str, beg= 0,end=len(string))</a> 返回 str 在 string 里面出现的次数，如果 beg 或者 end 指定则返回指定范围内 str 出现的次数</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-decode.html" rel="external nofollow noreferrer noopener">bytes.decode(encoding=”utf-8”, errors=”strict”)</a> Python3 中没有 decode 方法，但我们可以使用 bytes 对象的 decode() 方法来解码给定的 bytes 对象，这个 bytes 对象可以由 str.encode() 来编码返回。</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-encode.html" rel="external nofollow noreferrer noopener">encode(encoding=’UTF-8’,errors=’strict’)</a> 以 encoding 指定的编码格式编码字符串，如果出错默认报一个ValueError 的异常，除非 errors 指定的是’ignore’或者’replace’</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-endswith.html" rel="external nofollow noreferrer noopener">endswith(suffix, beg=0, end=len(string))</a> 检查字符串是否以 obj 结束，如果beg 或者 end 指定则检查指定的范围内是否以 obj 结束，如果是，返回 True,否则返回 False.</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-expandtabs.html" rel="external nofollow noreferrer noopener">expandtabs(tabsize=8)</a> 把字符串 string 中的 tab 符号转为空格，tab 符号默认的空格数是 8 。</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-find.html" rel="external nofollow noreferrer noopener">find(str, beg=0, end=len(string))</a> 检测 str 是否包含在字符串中，如果指定范围 beg 和 end ，则检查是否包含在指定范围内，如果包含返回开始的索引值，否则返回-1</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-index.html" rel="external nofollow noreferrer noopener">index(str, beg=0, end=len(string))</a> 跟find()方法一样，只不过如果str不在字符串中会报一个异常。</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isalnum.html" rel="external nofollow noreferrer noopener">isalnum()</a> 如果字符串至少有一个字符并且所有字符都是字母或数字则返 回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isalpha.html" rel="external nofollow noreferrer noopener">isalpha()</a> 如果字符串至少有一个字符并且所有字符都是字母或中文字则返回 True, 否则返回 False</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isdigit.html" rel="external nofollow noreferrer noopener">isdigit()</a> 如果字符串只包含数字则返回 True 否则返回 False</td>
</tr>
<tr>
<td align="left">13</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-islower.html" rel="external nofollow noreferrer noopener">islower()</a> 如果字符串中包含至少一个区分大小写的字符，并且所有这些(区分大小写的)字符都是小写，则返回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">14</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isnumeric.html" rel="external nofollow noreferrer noopener">isnumeric()</a> 如果字符串中只包含数字字符，则返回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">15</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isspace.html" rel="external nofollow noreferrer noopener">isspace()</a> 如果字符串中只包含空白，则返回 True，否则返回 False.</td>
</tr>
<tr>
<td align="left">16</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-istitle.html" rel="external nofollow noreferrer noopener">istitle()</a> 如果字符串是标题化的(见 title())则返回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">17</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isupper.html" rel="external nofollow noreferrer noopener">isupper()</a> 如果字符串中包含至少一个区分大小写的字符，并且所有这些(区分大小写的)字符都是大写，则返回 True，否则返回 False</td>
</tr>
<tr>
<td align="left">18</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-join.html" rel="external nofollow noreferrer noopener">join(seq)</a> 以指定字符串作为分隔符，将 seq 中所有的元素(的字符串表示)合并为一个新的字符串</td>
</tr>
<tr>
<td align="left">19</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-len.html" rel="external nofollow noreferrer noopener">len(string)</a> 返回字符串长度</td>
</tr>
<tr>
<td align="left">20</td>
<td align="left">[ljust(width<a target="_blank" href="https://www.runoob.com/python3/python3-string-ljust.html" rel="external nofollow noreferrer noopener">, fillchar])</a> 返回一个原字符串左对齐,并使用 fillchar 填充至长度 width 的新字符串，fillchar 默认为空格。</td>
</tr>
<tr>
<td align="left">21</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-lower.html" rel="external nofollow noreferrer noopener">lower()</a> 转换字符串中所有大写字符为小写.</td>
</tr>
<tr>
<td align="left">22</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-lstrip.html" rel="external nofollow noreferrer noopener">lstrip()</a> 截掉字符串左边的空格或指定字符。</td>
</tr>
<tr>
<td align="left">23</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-maketrans.html" rel="external nofollow noreferrer noopener">maketrans()</a> 创建字符映射的转换表，对于接受两个参数的最简单的调用方式，第一个参数是字符串，表示需要转换的字符，第二个参数也是字符串表示转换的目标。</td>
</tr>
<tr>
<td align="left">24</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-max.html" rel="external nofollow noreferrer noopener">max(str)</a> 返回字符串 str 中最大的字母。</td>
</tr>
<tr>
<td align="left">25</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-min.html" rel="external nofollow noreferrer noopener">min(str)</a> 返回字符串 str 中最小的字母。</td>
</tr>
<tr>
<td align="left">26</td>
<td align="left">[replace(old, new <a target="_blank" href="https://www.runoob.com/python3/python3-string-replace.html" rel="external nofollow noreferrer noopener">, max])</a> 把 将字符串中的 old 替换成 new,如果 max 指定，则替换不超过 max 次。</td>
</tr>
<tr>
<td align="left">27</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-rfind.html" rel="external nofollow noreferrer noopener">rfind(str, beg=0,end=len(string))</a> 类似于 find()函数，不过是从右边开始查找.</td>
</tr>
<tr>
<td align="left">28</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-rindex.html" rel="external nofollow noreferrer noopener">rindex( str, beg=0, end=len(string))</a> 类似于 index()，不过是从右边开始.</td>
</tr>
<tr>
<td align="left">29</td>
<td align="left">[rjust(width,<a target="_blank" href="https://www.runoob.com/python3/python3-string-rjust.html" rel="external nofollow noreferrer noopener">, fillchar])</a> 返回一个原字符串右对齐,并使用fillchar(默认空格）填充至长度 width 的新字符串</td>
</tr>
<tr>
<td align="left">30</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-rstrip.html" rel="external nofollow noreferrer noopener">rstrip()</a> 删除字符串字符串末尾的空格.</td>
</tr>
<tr>
<td align="left">31</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-split.html" rel="external nofollow noreferrer noopener">split(str=””, num=string.count(str))</a> 以 str 为分隔符截取字符串，如果 num 有指定值，则仅截取 num+1 个子字符串</td>
</tr>
<tr>
<td align="left">32</td>
<td align="left">[splitlines(<a target="_blank" href="https://www.runoob.com/python3/python3-string-splitlines.html" rel="external nofollow noreferrer noopener">keepends])</a> 按照行(‘\r’, ‘\r\n’, \n’)分隔，返回一个包含各行作为元素的列表，如果参数 keepends 为 False，不包含换行符，如果为 True，则保留换行符。</td>
</tr>
<tr>
<td align="left">33</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-startswith.html" rel="external nofollow noreferrer noopener">startswith(substr, beg=0,end=len(string))</a> 检查字符串是否是以指定子字符串 substr 开头，是则返回 True，否则返回 False。如果beg 和 end 指定值，则在指定范围内检查。</td>
</tr>
<tr>
<td align="left">34</td>
<td align="left">[strip(<a target="_blank" href="https://www.runoob.com/python3/python3-string-strip.html" rel="external nofollow noreferrer noopener">chars])</a> 在字符串上执行 lstrip()和 rstrip()</td>
</tr>
<tr>
<td align="left">35</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-swapcase.html" rel="external nofollow noreferrer noopener">swapcase()</a> 将字符串中大写转换为小写，小写转换为大写</td>
</tr>
<tr>
<td align="left">36</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-title.html" rel="external nofollow noreferrer noopener">title()</a> 返回”标题化”的字符串,就是说所有单词都是以大写开始，其余字母均为小写(见 istitle())</td>
</tr>
<tr>
<td align="left">37</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-translate.html" rel="external nofollow noreferrer noopener">translate(table, deletechars=””)</a> 根据 str 给出的表(包含 256 个字符)转换 string 的字符, 要过滤掉的字符放到 deletechars 参数中</td>
</tr>
<tr>
<td align="left">38</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-upper.html" rel="external nofollow noreferrer noopener">upper()</a> 转换字符串中的小写字母为大写</td>
</tr>
<tr>
<td align="left">39</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-zfill.html" rel="external nofollow noreferrer noopener">zfill (width)</a> 返回长度为 width 的字符串，原字符串右对齐，前面填充0</td>
</tr>
<tr>
<td align="left">40</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-string-isdecimal.html" rel="external nofollow noreferrer noopener">isdecimal()</a> 检查字符串是否只包含十进制字符，如果是返回 true，否则返回 false。</td>
</tr>
</tbody></table>
<h4 id="1-4-4-List（列表）"><a href="#1-4-4-List（列表）" class="headerlink" title="1.4.4 List（列表）"></a>1.4.4 List（列表）</h4><p>例子：</p>
<pre class="line-numbers language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'Python'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">]</span>
list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span>
list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'white'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上的值中括号开始，中括号结束，其中有多个元素，以逗号隔开，其中的数据可以是任意类型，</p>
<p>访问方式可以使用数据下标的方式，比如print(list3[1])打印的是list3中下标为1的数据green，试着打印一下list1中第二个数据Python</p>
<p>列表元素的增删改查</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>示例</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>append增加元素</td>
<td>lists = [‘Hello’, ‘Python’]<br/>lists.append(100)<br/>print(lists)</td>
<td>[‘Hello’, ‘Python’, 100]</td>
</tr>
<tr>
<td>del删除元素</td>
<td>lists = [‘Hello’, ‘Python’]<br/>del lists[1]<br/>print(lists)</td>
<td>[‘Hello’]</td>
</tr>
<tr>
<td>insert插入修改元素</td>
<td>lists = [‘Hello’, ‘Python’]<br/>del lists[1]<br/>print(lists)</td>
<td>[‘Hello’, 100, ‘Python’]</td>
</tr>
<tr>
<td>index查找元素</td>
<td>lists = [‘Hello’, ‘Python’]<br/>index = lists.index(‘Python’)<br/>print(index)</td>
<td>1</td>
</tr>
</tbody></table>
<p>列表常用函数</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">函数</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-len.html" rel="external nofollow noreferrer noopener">len(list)</a> 列表元素个数</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-max.html" rel="external nofollow noreferrer noopener">max(list)</a> 返回列表元素最大值</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-min.html" rel="external nofollow noreferrer noopener">min(list)</a> 返回列表元素最小值</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-list.html" rel="external nofollow noreferrer noopener">list(seq)</a> 将元组转换为列表</td>
</tr>
</tbody></table>
<p>列表常用方法</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">方法</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-append.html" rel="external nofollow noreferrer noopener">list.append(obj)</a> 在列表末尾添加新的对象</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-count.html" rel="external nofollow noreferrer noopener">list.count(obj)</a> 统计某个元素在列表中出现的次数</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-extend.html" rel="external nofollow noreferrer noopener">list.extend(seq)</a> 在列表末尾一次性追加另一个序列中的多个值（用新列表扩展原来的列表）</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-index.html" rel="external nofollow noreferrer noopener">list.index(obj)</a> 从列表中找出某个值第一个匹配项的索引位置</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-insert.html" rel="external nofollow noreferrer noopener">list.insert(index, obj)</a> 将对象插入列表</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">[list.pop(<a target="_blank" href="https://www.runoob.com/python3/python3-att-list-pop.html" rel="external nofollow noreferrer noopener">index=-1])</a> 移除列表中的一个元素（默认最后一个元素），并且返回该元素的值</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-remove.html" rel="external nofollow noreferrer noopener">list.remove(obj)</a> 移除列表中某个值的第一个匹配项</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-reverse.html" rel="external nofollow noreferrer noopener">list.reverse()</a> 反向列表中元素</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-sort.html" rel="external nofollow noreferrer noopener">list.sort( key=None, reverse=False)</a> 对原列表进行排序</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-clear.html" rel="external nofollow noreferrer noopener">list.clear()</a> 清空列表</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/python3-att-list-copy.html" rel="external nofollow noreferrer noopener">list.copy()</a> 复制列表</td>
</tr>
</tbody></table>
<h4 id="1-4-5-Tuple（元组）"><a href="#1-4-5-Tuple（元组）" class="headerlink" title="1.4.5 Tuple（元组）"></a>1.4.5 Tuple（元组）</h4><p>Python 的元组与列表类似，不同之处在于元组的元素不能修改，并且元组使用小括号 ( )，列表使用方括号 [ ]。</p>
<p>把以上列表的[]改成()就被当作元组了</p>
<pre class="line-numbers language-python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'Python'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">)</span>
list2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
list3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'white'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>元组中的数据不可改变，因此尝试下list1[2] = 1000，看看会不会有问题，再把list1改成列表试试。</p>
<h4 id="1-4-6-Set（集合）"><a href="#1-4-6-Set（集合）" class="headerlink" title="1.4.6 Set（集合）"></a>1.4.6 Set（集合）</h4><p>集合（set）是一个无序的不重复元素序列。</p>
<p>可以使用大括号 <strong>{ }</strong> 或者 <strong>set()</strong> 函数创建集合，注意：创建一个空集合使用 <strong>set()</strong> 而不是 <strong>{ }**， **{ }</strong> 用来创建一个空的字典。</p>
<pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">{</span><span class="token string">'h'</span>, <span class="token string">'l'</span>, <span class="token string">'o'</span>, <span class="token string">'e'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>需要注意的是，输出的结果每次并不相同，并且’l’字符只打印了一次。这也证明了set集合是一个无需不重复的元素序列。</p>
<p><strong>集合的运算</strong></p>
<pre class="line-numbers language-python"><code class="language-python">a <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>
b <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>                <span class="token comment" spellcheck="true"># 输出{'a', 'r', 'b', 'c', 'd'}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 集合a中包含而集合b中不包含的元素, 输出{'r', 'd', 'b'}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 集合a或b中包含的所有元素, {'a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 集合a和b中都包含了的元素, {'a', 'c'}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 不同时包含于a和b的元素, {'r', 'd', 'b', 'm', 'z', 'l'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>集合的方法</strong></p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-add.html" rel="external nofollow noreferrer noopener">add()</a></td>
<td align="left">为集合添加元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-clear.html" rel="external nofollow noreferrer noopener">clear()</a></td>
<td align="left">移除集合中的所有元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-copy.html" rel="external nofollow noreferrer noopener">copy()</a></td>
<td align="left">拷贝一个集合</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-difference.html" rel="external nofollow noreferrer noopener">difference()</a></td>
<td align="left">返回多个集合的差集</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-difference_update.html" rel="external nofollow noreferrer noopener">difference_update()</a></td>
<td align="left">移除集合中的元素，该元素在指定的集合也存在。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-discard.html" rel="external nofollow noreferrer noopener">discard()</a></td>
<td align="left">删除集合中指定的元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-intersection.html" rel="external nofollow noreferrer noopener">intersection()</a></td>
<td align="left">返回集合的交集</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-intersection_update.html" rel="external nofollow noreferrer noopener">intersection_update()</a></td>
<td align="left">返回集合的交集。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-isdisjoint.html" rel="external nofollow noreferrer noopener">isdisjoint()</a></td>
<td align="left">判断两个集合是否包含相同的元素，如果没有返回 True，否则返回 False。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-issubset.html" rel="external nofollow noreferrer noopener">issubset()</a></td>
<td align="left">判断指定集合是否为该方法参数集合的子集。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-issuperset.html" rel="external nofollow noreferrer noopener">issuperset()</a></td>
<td align="left">判断该方法的参数集合是否为指定集合的子集</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-pop.html" rel="external nofollow noreferrer noopener">pop()</a></td>
<td align="left">随机移除元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-remove.html" rel="external nofollow noreferrer noopener">remove()</a></td>
<td align="left">移除指定元素</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-symmetric_difference.html" rel="external nofollow noreferrer noopener">symmetric_difference()</a></td>
<td align="left">返回两个集合中不重复的元素集合。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-symmetric_difference_update.html" rel="external nofollow noreferrer noopener">symmetric_difference_update()</a></td>
<td align="left">移除当前集合中在另外一个指定集合相同的元素，并将另外一个指定集合中不同的元素插入到当前集合中。</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-union.html" rel="external nofollow noreferrer noopener">union()</a></td>
<td align="left">返回两个集合的并集</td>
</tr>
<tr>
<td align="left"><a target="_blank" href="https://www.runoob.com/python3/ref-set-update.html" rel="external nofollow noreferrer noopener">update()</a></td>
<td align="left">给集合添加元素</td>
</tr>
</tbody></table>
<p><strong>使用举例</strong></p>
<p>add添加元素</p>
<pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'Language'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>输出为{‘Language’, ‘Hello’, ‘Python’}</p>
<p>remove删除元素</p>
<pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'Python'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>输出为{‘Hello’}</p>
<p>计算集合长度</p>
<pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>len<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出为2</p>
<p>判断元素是否在集合中</p>
<pre class="line-numbers language-python"><code class="language-python">s <span class="token operator">=</span> set<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Python"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Python'</span> <span class="token keyword">in</span> s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出为True</p>
<h4 id="1-4-7-Dictionary（字典）"><a href="#1-4-7-Dictionary（字典）" class="headerlink" title="1.4.7 Dictionary（字典）"></a>1.4.7 Dictionary（字典）</h4><p>字典是key和value的成对数据类型，可以理解为每一个值value都有一个名字key，使用方法如下：</p>
<pre class="line-numbers language-python"><code class="language-python">d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span> <span class="token punctuation">:</span> <span class="token string">'黄飞鸿'</span><span class="token punctuation">,</span> <span class="token string">'技能'</span> <span class="token punctuation">:</span> <span class="token string">'无影脚'</span><span class="token punctuation">,</span> <span class="token string">'武力值'</span> <span class="token punctuation">:</span> <span class="token number">99</span> <span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>d是一个字典，使用{}，其中的元素以逗号作为分割，逗号分隔的就是key:value键值对，key必须是<strong>不重复不可改变的类型</strong>，而值可以是Python支持的任意数据类型。</p>
<p>也可以使用关键的key访问，比如访问name,可以写为d[‘name’]，得到的结果是’黄飞鸿’，尝试使用这种方法打印其他的值。</p>
<p>Python字典包含了以下内置函数：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">函数及描述</th>
<th align="left">实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">len(dict) 计算字典元素个数，即键的总数。</td>
<td align="left"><code>&gt;&gt;&gt; dict = &#123;&#39;Name&#39;: &#39;Runoob&#39;, &#39;Age&#39;: 7, &#39;Class&#39;: &#39;First&#39;&#125; &gt;&gt;&gt; len(dict) 3</code></td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">str(dict) 输出字典，以可打印的字符串表示。</td>
<td align="left"><code>&gt;&gt;&gt; dict = &#123;&#39;Name&#39;: &#39;Runoob&#39;, &#39;Age&#39;: 7, &#39;Class&#39;: &#39;First&#39;&#125; &gt;&gt;&gt; str(dict) &quot;&#123;&#39;Name&#39;: &#39;Runoob&#39;, &#39;Class&#39;: &#39;First&#39;, &#39;Age&#39;: 7&#125;&quot;</code></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">type(variable) 返回输入的变量类型，如果变量是字典就返回字典类型。</td>
<td align="left"><code>&gt;&gt;&gt; dict = &#123;&#39;Name&#39;: &#39;Runoob&#39;, &#39;Age&#39;: 7, &#39;Class&#39;: &#39;First&#39;&#125; &gt;&gt;&gt; type(dict) &lt;class &#39;dict&#39;&gt;</code></td>
</tr>
</tbody></table>
<p>Python字典包含了以下内置方法：</p>
<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">函数及描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">radiansdict.clear()删除字典内所有元素</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">radiansdict.copy()返回一个字典的浅复制</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">radiansdict.fromkeys()创建一个新字典，以序列seq中元素做字典的键，val为字典所有键对应的初始值</td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">radiansdict.get(key, default=None) 返回指定键的值，如果键不在字典中返回 default 设置的默认值</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">key in dict 如果键在字典dict里返回true，否则返回false</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">radiansdict.items() 以列表返回可遍历的(键, 值) 元组数组</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">radiansdict.keys() 返回一个迭代器，可以使用 list() 来转换为列表</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">radiansdict.setdefault(key, default=None) 和get()类似, 但如果键不存在于字典中，将会添加键并将值设为default</td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">radiansdict.update(dict2) 把字典dict2的键/值对更新到dict里</td>
</tr>
<tr>
<td align="left">10</td>
<td align="left">radiansdict.values() 返回一个迭代器，可以使用 list() 来转换为列表</td>
</tr>
<tr>
<td align="left">11</td>
<td align="left">[pop(key[,default]) 删除字典给定键 key 所对应的值，返回值为被删除的值。key值必须给出。 否则，返回default值。</td>
</tr>
<tr>
<td align="left">12</td>
<td align="left">popitem() 随机返回并删除字典中的最后一对键和值。</td>
</tr>
</tbody></table>
<h4 id="练习：学生管理系统3-0"><a href="#练习：学生管理系统3-0" class="headerlink" title="练习：学生管理系统3.0"></a>练习：学生管理系统3.0</h4><pre><code>学生管理系统是一款用于班级管理的软件，其最终功能有：学生信息录入、学生信息修改、学生信息查找、学生信息删除、排序、统计、保存到文件等。随着学习的逐步深入，我们将这套系统分为5个版本来实现，在2.0的基础上，现在实现学生管理系统的3.0版本，主要功能有：

1.以列表的形式存储三位同学的信息，并打印
2.对同学“tom”进行增删改查操作
3.将所有同学信息存储与列表中,并打印所有学生信息
4.新增一个同学到学生列表中
5.修改学生列表中的数据
6.从学生列表中删除某个同学信息
7.根据条件查找所有符合条件的同学信息
8.改用字典保存一个同学的信息，将所有同学的信息保存于列表中,并打印</code></pre>
<h3 id="1-5-Python模块化设计"><a href="#1-5-Python模块化设计" class="headerlink" title="1.5 Python模块化设计"></a>1.5 Python模块化设计</h3><h4 id="1-5-1-函数"><a href="#1-5-1-函数" class="headerlink" title="1.5.1 函数"></a>1.5.1 函数</h4><p>函数可看作一个工具，你告诉它要干什么，它会听话的帮你把事情办好，得到你要的结果。</p>
<p>你告诉它可以表示成<strong>输入</strong>，把事情办好是<strong>功能模块</strong>，得到结果表示为<strong>输出</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210315222343.jpg" alt="img"></p>
<p>例如，我们希望有这么一个工具，告诉它两个数，希望得到他们的乘积，那么使用python可以这么写：</p>
<pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> multip<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>result = multip(10, 20)表示<strong>输入</strong>10, 20两个数给multip这个<strong>功能模块</strong>，然后功能模块的输出结果赋值给result。在开发语言中这个过程叫做<strong>函数的调用</strong>。</p>
<p>函数的调用即是指通过传递给函数输入参数，比如以上传递的输入参数是10和20，完成函数代码执行的过程。</p>
<p>由于我们希望提供的两个输入完成的是<strong>乘积的功能</strong>，因此函数multip的功能模块代码可以如下定义：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">multip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">*</span>b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>以上是一个函数的功能模块的定义语法，def为关键字，multip为函数的名字，()中表示传递进来的输入参数，冒号后面的是函数要执行的代码，a*b表示对两个输入参数做了乘积，return表示返回乘积的结果。</p>
<p>完整的代码如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 定义函数</span>
<span class="token keyword">def</span> <span class="token function">multip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">*</span>b

<span class="token comment" spellcheck="true"># 调用函数并输出结果</span>
result <span class="token operator">=</span> multip<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>代码会从<code>result = multip(10, 20)</code>这一行开始执行，然后通过multip(10, 20)这个函数调用，执行到第一行和第二行的代码，最后通过return把结果返回给result，并通过print(result)打印出最终的结果。</p>
<p>通过multip这个函数，我们可以提供任意的两个数值给它，让它帮我们完成两个数的乘积。</p>
<p>使用函数和习惯函数方式的编程是一个好的开始，因为我们并不希望为了做一些事情，还要把事情所依赖的基础也重新做一遍，而函数的好处在于同类的事情只要实现一次即可，下次再遇到同类的问题，就可以通过调用函数来解决，这就好比现实中的工具一样，给我们带来了编程的方便。</p>
<h4 id="1-5-2-函数默认参数"><a href="#1-5-2-函数默认参数" class="headerlink" title="1.5.2 函数默认参数"></a>1.5.2 函数默认参数</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">printInfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"你好%s,年龄为：%d岁"</span><span class="token operator">%</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    printInfo<span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span>
    printInfo<span class="token punctuation">(</span><span class="token string">"terry"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到printInfo需要两个参数，但第二个参数age有一个默认的赋值为30，这个表示当函数调用没有提供第二个参数的时候，age的值默认为0，如printInfo(“terry”)，打印的结果为你好terry,年龄为：<strong>30</strong>岁</p>
<h4 id="1-5-3-函数不定参数"><a href="#1-5-3-函数不定参数" class="headerlink" title="1.5.3 函数不定参数"></a>1.5.3 函数不定参数</h4><p>有这么一种情况，输入的参数可能不是固定的，比如说计算一天内花了多少笔钱，3顿饭，水果，饮料，打车等等，每天都不一样，怎么定义这样一个函数呢？</p>
<p>我们假设</p>
<p>第一天早饭10块钱，午饭20块钱，晚饭10块钱，苹果3块钱，纸巾3块钱；</p>
<p>第二天早饭8块钱，午饭12块钱，晚饭8块钱，香蕉2块钱，打车20块钱，饮料10块钱；</p>
<p>那么第一天是5个参数，第二天则多了一个是6个参数，使用函数的代码实现如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 不定参数的函数定义，在参数前面的*表示输入的参数都存放在money中</span>
<span class="token keyword">def</span> <span class="token function">cost</span><span class="token punctuation">(</span><span class="token operator">*</span>money<span class="token punctuation">)</span><span class="token punctuation">:</span>
    all <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> one <span class="token keyword">in</span> money<span class="token punctuation">:</span>
        all<span class="token operator">+=</span>one
    <span class="token keyword">return</span> all

day1Spend <span class="token operator">=</span> cost<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 5个参数</span>
day2Spend <span class="token operator">=</span> cost<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 6个参数</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'第一天花费了%d'</span> <span class="token operator">%</span> day1Spend<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'第二天花费了%d'</span> <span class="token operator">%</span> day2Spend<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="练习：学生管理系统4-0"><a href="#练习：学生管理系统4-0" class="headerlink" title="练习：学生管理系统4.0"></a>练习：学生管理系统4.0</h4><pre><code>学生管理系统是一款用于班级管理的软件，其最终功能有：学生信息录入、学生信息修改、学生信息查找、学生信息删除、排序、统计、保存到文件等。随着学习的逐步深入，我们将这套系统分为5个版本来实现，在3.0的基础上，现在实现学生管理系统的4.0版本，主要功能有：

实现学生管理系统的增删改查功能，每个功能使用函数封装
(1)显示所有学生信息
(2)新增一个学生信息
(3)修改学生的年龄
(4)根据学号删除学生
(5)按照姓名查找
(6)按照学号进行升序和降序排列
(7)功能菜单：该功能菜单供用户选择相应功能，调用上述不同功能模块
(8)数据从文件中读取（选做）
(9)将数据保存到文件中（选做）</code></pre>
<h4 id="1-5-4-类"><a href="#1-5-4-类" class="headerlink" title="1.5.4 类"></a>1.5.4 类</h4><p>之前学习的函数只负责某个功能模块，而人类的习惯中总是以类别来区分。比如说看到一个人，可能只看一眼，就能大概描绘出这个人的身高、体型、穿着打扮、年龄性别等信息。</p>
<p>通过函数是不能够描述这一类别信息的，因此在计算机中为了描述这类信息，定义了类这个概念，以下是这个类定义大概的样子：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 定义info函数，类中的函数称为方法</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这个人大概是%s,年龄差不多%d"</span><span class="token punctuation">,</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>sex<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中class是类的修饰符，Person是类的名字，在类中有一个构造函数<code>__init__</code>，info是这个类中定义的函数，一般在类中叫做类的方法。</p>
<p>构造函数<code>__init__</code>是干嘛的呢，我们要先想下这个类Person能干嘛呢，Person看名字就是为了定义人的，只不过每一个人都不一样，因此可以借助这个Person模板，传递不同的参数来达到对不同人描述的效果。</p>
<p>那怎么描述不同的人呢，通过上一节的学习我们知道可以通过传递参数来获取不同的参数，类也是这样，通过定义这么一个特殊的函数<code>__init__</code>，并允许用户传递自己的参数，从而实现不同信息人的描述的。</p>
<p>比如上面的代码中<code>__init__</code>可以传递age和sex，表示不同人的年龄和性别。</p>
<p>那<code>self</code>又是干嘛的呢？self代表自己，我们已经直到Person只是个模板，当描述不同人的时候，每一个人都会有一个age和sex，那么这个self就指代的是他自己的age和sex变量了。</p>
<p>其中info表示类Person中的方法，可以通过这种方式完善Person这个功能模板。</p>
<h4 id="1-5-5-对象"><a href="#1-5-5-对象" class="headerlink" title="1.5.5 对象"></a>1.5.5 对象</h4><p>对象是对类的实例化。Person只是个模板，为了描述不同的人，就需要把模板实例化为对象，从而对不同的人进行描述。怎么实例化呢？如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">,</span>status<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
        self<span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
        self<span class="token punctuation">.</span>status <span class="token operator">=</span> status
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># 定义info函数，类中的函数称为方法</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"这个人大概是%s, 年龄差不多%d, 目前%s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>sex<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    zhangsan <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token string">'已婚'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 实例化</span>
    xiaohong <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">,</span> <span class="token string">'单身'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 实例化</span>
    zhangsan<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>                         <span class="token comment" spellcheck="true"># 调用方法</span>
    xiaohong<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>                         <span class="token comment" spellcheck="true"># 调用方法</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>10行和11行实例化了两个Person对象，分别叫zhangsan和xiaohong，并传递了三个参数，这个调用过程默认调用了参数匹配的<code>__init__</code>构造函数，这样这两个对象都拥有了自己的age,sex和status。</p>
<p>12行和13行分别通过对象名称调用其中的方法info，打印除了属于自己的age、sex、status属性。</p>
<h4 id="1-5-6-对象的私有属性和私有方法"><a href="#1-5-6-对象的私有属性和私有方法" class="headerlink" title="1.5.6 对象的私有属性和私有方法"></a>1.5.6 对象的私有属性和私有方法</h4><p>以上的zhangsan是一个对象，我们可以通过访问其中的属性sex来改变他zhangsan的性别，如：</p>
<pre class="line-numbers language-python"><code class="language-python">zhangsan<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'女'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这样，zhangsan的性别就被随意更改了，有时候并不希望数据被意外更改，</p>
<p>因此<strong>Python规定属性和方法前面增加两个下划线，以防止被意外更改，从而变成了私有的属性和方法</strong>。</p>
<p>那怎么访问呢？不能通过zhangsan后面加点的方式访问了，私有的也只能通过共有的方法访问了，保证了数据安全。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age                <span class="token comment" spellcheck="true"># __age为私有属性，不可以通过对象直接访问修改</span>
        self<span class="token punctuation">.</span>__sex <span class="token operator">=</span> sex                <span class="token comment" spellcheck="true"># __sex为私有属性，不可以通过对象直接访问修改</span>
    <span class="token keyword">def</span> <span class="token function">__info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>                   <span class="token comment" spellcheck="true"># __info为私有方法，不可以通过对象直接访问</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是一个私有的方法'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>访问方法如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age                <span class="token comment" spellcheck="true"># __age为私有属性，不可以通过对象直接访问修改</span>
        self<span class="token punctuation">.</span>__sex <span class="token operator">=</span> sex                <span class="token comment" spellcheck="true"># __sex为私有属性，不可以通过对象直接访问修改</span>
    <span class="token keyword">def</span> <span class="token function">__info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>                   <span class="token comment" spellcheck="true"># __info为私有方法，不可以通过对象直接访问</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'这是一个私有的方法'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    zhangsan <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 实例化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>_Person__age<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 访问对象的私有属性</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>_Person__info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true"># 访问对象的私有方法</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-5-7-类的静态属性"><a href="#1-5-7-类的静态属性" class="headerlink" title="1.5.7 类的静态属性"></a>1.5.7 类的静态属性</h4><p>类的静态属性是在<code>__init__</code>构造函数之外定义的，如以下参考代码第二行total静态属性的定义。</p>
<p>静态属性访问规则：</p>
<ul>
<li>使用对象只读访问；</li>
<li>使用类名读写访问；</li>
<li>所有类的对象共享同一个静态属性；</li>
</ul>
<p>参考代码</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    total <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age                <span class="token comment" spellcheck="true"># __age为私有属性，不可以通过对象直接访问修改</span>
        self<span class="token punctuation">.</span>__sex <span class="token operator">=</span> sex                <span class="token comment" spellcheck="true"># __sex为私有属性，不可以通过对象直接访问修改</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    zhangsan <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 实例化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>total<span class="token punctuation">)</span>               <span class="token comment" spellcheck="true"># 对象可以访问类的静态变量total</span>
    zhangsan<span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">1</span>                  <span class="token comment" spellcheck="true"># 对象不可以修改类的静态变量total</span>
    Person<span class="token punctuation">.</span>total <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>total<span class="token punctuation">)</span>                 <span class="token comment" spellcheck="true"># 类可以修改类的静态变量total</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>total<span class="token punctuation">)</span>               <span class="token comment" spellcheck="true"># 对象访问到修改后的静态变量，说明访问的是同一个total，是共享的</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第9行输出0，第10行是有错误的，说明对象访问静态属性是只读的；</p>
<p>第11行通过类名对静态属性做了修改，第12行输出了修改后的值，说明类访问静态属性total是读写的权限；</p>
<p>第13行通过对象访问total是1，说明对象可以看到类修改后的静态属性total，使用的是同一个total，说明静态属性是共享的；</p>
<h4 id="1-5-8-类的静态方法"><a href="#1-5-8-类的静态方法" class="headerlink" title="1.5.8 类的静态方法"></a>1.5.8 类的静态方法</h4><p>通过对静态属性的了解，不难发现静态属性是属于类的，所有对象也都可以使用，只不过是只读的，这也是针对某些特殊需求是有帮助的。</p>
<p>那么<strong>类的静态方法</strong>又是个啥呢？没错和静态属性类似，也可以认为是属于类的，所有对象都可以调用，只不过静态方法既然属于类，就只能访问静态属性，而不能访问对象的私有属性了。</p>
<p>使用方法：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    total <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token comment" spellcheck="true">#__init__为类的构造函数</span>
        self<span class="token punctuation">.</span>__age <span class="token operator">=</span> age                <span class="token comment" spellcheck="true"># __age为私有属性，不可以通过对象直接访问修改</span>
        self<span class="token punctuation">.</span>__sex <span class="token operator">=</span> sex                <span class="token comment" spellcheck="true"># __sex为私有属性，不可以通过对象直接访问修改</span>
    @staticmethod                       <span class="token comment" spellcheck="true"># 静态方法的申明</span>
    <span class="token keyword">def</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> Person<span class="token punctuation">.</span>total

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    zhangsan <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'男'</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true"># 实例化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>zhangsan<span class="token punctuation">.</span>getTotal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true"># 对象静态方法的访问</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>getTotal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true"># 类静态方法的访问</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上通过第6行把getTotal定义成了一个类的静态方法，这个静态方法返回一个静态属性total；</p>
<p>12行是通过对象访问静态方法的例子；</p>
<p>13行是通过类访问静态方法的例子；</p>
<h4 id="1-5-9-类的构造函数和析构函数"><a href="#1-5-9-类的构造函数和析构函数" class="headerlink" title="1.5.9 类的构造函数和析构函数"></a>1.5.9 类的构造函数和析构函数</h4><p>构造函数：<code>__init__()</code>是用于初始对象的，为对象的属性设置默认值；</p>
<p>析构函数：<code>__del__()</code>是释放对象占用的资源的，Python默认会有析构函数，程序中也可以主动提供；</p>
<p>语法如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
<span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex<span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token comment" spellcheck="true">#构造函数，建立对象时自动调用</span>
    self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    self<span class="token punctuation">.</span>sex <span class="token operator">=</span> sex       
<span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>              <span class="token comment" spellcheck="true">#析构函数，释放对象时自动调用</span>
    self<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">""</span>
    self<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="1-5-10-继承"><a href="#1-5-10-继承" class="headerlink" title="1.5.10 继承"></a>1.5.10 继承</h4><p>继承的意思是我写了一个新的<strong>类B</strong>，发现和之前的一个<strong>类A</strong>很像，并发现<strong>类A</strong>可以是<strong>类B</strong>的一部分，那就可以省点心，编写类B时，和类A一样的部分直接继承类A的，不用再写了。</p>
<p>语法如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token operator">&lt;</span>statement<span class="token number">-1</span><span class="token operator">></span>
    <span class="token punctuation">.</span>
    <span class="token punctuation">.</span>
    <span class="token punctuation">.</span>
    <span class="token operator">&lt;</span>statement<span class="token operator">-</span>N<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>示例：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Person类定义</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'my age: %d'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Student子类继承父类Person</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>grade<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade
        <span class="token comment" spellcheck="true">#调用父类的构函</span>
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    stu <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    stu<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上定义了一个<strong>父类Person</strong>，<strong>子类Student</strong>继承了Person类；</p>
<p>18行调用时可以直接调用父类中的方法，并输出父类的属性age。</p>
<h4 id="1-5-11-类的方法重写"><a href="#1-5-11-类的方法重写" class="headerlink" title="1.5.11 类的方法重写"></a>1.5.11 类的方法重写</h4><p>我们发现上一个案例中，在子类中定义了一个grade，但是父类是肯定不知道的，那怎么在调用info方法不变的情况下，也输出grade属性呢？可以重写父类的info方法，代码如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Person类定义</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'my age: %d'</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true"># Student子类继承基类Person</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">,</span>grade<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade
        <span class="token comment" spellcheck="true">#调用父类的构函</span>
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'我今年%d, 上%d年级了'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    stu <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    stu<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上代码在Student中重新实现了父类的info方法，这样<code>stu.info()</code>代码调用的时候，执行的就是子类的info了。</p>
<h4 id="1-5-12-类的多重继承"><a href="#1-5-12-类的多重继承" class="headerlink" title="1.5.12 类的多重继承"></a>1.5.12 类的多重继承</h4><p>多重继承就是可以继承多个的意思，这又可以省写好多代码了😄。</p>
<p>语法如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A1<span class="token punctuation">,</span> A2<span class="token punctuation">,</span> A3<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token operator">&lt;</span>statement<span class="token number">-1</span><span class="token operator">></span>
    <span class="token punctuation">.</span>
    <span class="token punctuation">.</span>
    <span class="token punctuation">.</span>
    <span class="token operator">&lt;</span>statement<span class="token operator">-</span>N<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>示例代码：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Person类定义</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_name <span class="token operator">=</span> name
    @property
    <span class="token keyword">def</span> <span class="token function">name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_name

<span class="token comment" spellcheck="true"># Interest兴趣类定义</span>
<span class="token keyword">class</span> <span class="token class-name">Interest</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>hobby<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_hobby <span class="token operator">=</span> hobby
    @property
    <span class="token keyword">def</span> <span class="token function">hobby</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_hobby

<span class="token comment" spellcheck="true"># Student子类继承基类Person</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> Interest<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>hobby<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true">#调用父类的构函</span>
        Person<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span>
        Interest<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>hobby<span class="token punctuation">)</span>
    <span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s喜欢%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>hobby<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    stu <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token string">'踢足球'</span><span class="token punctuation">)</span>
    stu<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上输出的结果是：<strong>张三喜欢踢足球</strong></p>
<p><strong>代码解释：</strong>以上代码定义了两个父类，一个是Person，一个是Interest，并分别使用@property设置了两个属性name和hobby，Student继承这两个父类；</p>
<p>通过27代码构造子类Student后，28行调用<code>info()</code>方法获得了父类的name和hobby属性，并输出结果；</p>
<h4 id="练习：学生管理系统5-0"><a href="#练习：学生管理系统5-0" class="headerlink" title="练习：学生管理系统5.0"></a>练习：学生管理系统5.0</h4><pre><code>学生管理系统是一款用于班级管理的软件，其最终功能有：学生信息录入、学生信息修改、学生信息查找、学生信息删除、排序、统计、保存到文件等。随着学习的逐步深入，我们将这套系统分为5个版本来实现，在4.0的基础上，现在实现学生管理系统的5.0版本，主要功能有：

1.学生类：存储学生个人信息
2.管理类：对学生的各种管理
 (1)显示所有学生信息
 (2)新增一个学生信息
 (3)修改学生的年龄
 (4)根据学号删除学生
 (5)按照姓名查找
 (6)按照学号进行升序和降序排列
 (7)功能菜单：该功能菜单供用户选择相应功能，调用上述不同功能模块
 (8)数据从文件中读取
 (9)将数据保存到文件中
</code></pre>
<h2 id="二、1天学会爬虫基本原理"><a href="#二、1天学会爬虫基本原理" class="headerlink" title="二、1天学会爬虫基本原理"></a>二、1天学会爬虫基本原理</h2><h3 id="网络爬虫概念"><a href="#网络爬虫概念" class="headerlink" title="网络爬虫概念"></a>网络爬虫概念</h3><p>网络爬虫的英文为Web Spider，又称作网络蜘蛛或网络机器人。如果把互联网比喻成一张大的蜘蛛网，数据便是存放于蜘蛛网的各个节点。爬虫就是网中爬行的蜘蛛，沿着网络抓取自己的猎物（数据）。</p>
<p>网络爬虫，简单来说，就是一种按照一定规则，自动地抓取互联网中信息的程序或脚本。</p>
<p>我们常用的搜索网站，可以看成就是通过网络爬虫爬取互联网中符合要求的信息，显示给用户的。</p>
<h3 id="HTTP基本原理"><a href="#HTTP基本原理" class="headerlink" title="HTTP基本原理"></a>HTTP基本原理</h3><p>在本节中，我们会详细了解HTTP的基本原理，了解在浏览器中敲入URL到获取网页内容之间发生了什么。了解了这些内容，有助于我们进一步了解爬虫的基本原理。</p>
<p>我们把在浏览器的地址栏里输入的网址叫做URL。URL全称<strong>U</strong>niform <strong>R</strong>esource <strong>L</strong>ocator，即<a target="_blank" href="https://baike.baidu.com/item/%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%AC%A6" rel="external nofollow noreferrer noopener">统一资源定位符</a>。URL用于确定分散在互联网中各种资源的位置和访问方式。例如，摄图网中故宫博物馆的图片地址为：<a target="_blank" href="http://seopic.699pic.com/photo/50088/2824.jpg_wh1200.jpg%E3%80%82%E5%AE%83%E5%8C%85%E5%90%AB%E4%BA%86%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E4%BF%A1%E6%81%AF%E3%80%82" rel="external nofollow noreferrer noopener">http://seopic.699pic.com/photo/50088/2824.jpg_wh1200.jpg。它包含了以下几种信息。</a></p>
<p>访问协议：  http，用于确定数据传输的方式。</p>
<p>服务器名称：seopic.699pic.com，图片所在的网站地址。</p>
<p>访问路径：  photo/50088，图片目录。</p>
<p>资源名：   2824.jpg_wh1200.jpg，图片名称。</p>
<h3 id="网页基础"><a href="#网页基础" class="headerlink" title="网页基础"></a>网页基础</h3><p>我们访问的网页多种多样，展现形式各不相同，对于网络爬虫来说，弄清楚网页所展示的技术是十分重要的，因为我们所需要的数据就散落在网页当中，只有了解了网页的基本组成、结构和节点等内容，才能分析网页、解析网页，从中获取我们想要的数据。</p>
<h4 id="网页的组成基础"><a href="#网页的组成基础" class="headerlink" title="网页的组成基础"></a>网页的组成基础</h4><p>网页可以分为三大部分——HTML、CSS和JavaScript。如果把网页比作一个人的话，HTML相当于骨架，JavaScript相当于肌肉，CSS相当于皮肤，三者结合起来才能形成一个完善的网页。下面我们分别来介绍一下这三部分的功能。 </p>
<h4 id="网页的组成HTML"><a href="#网页的组成HTML" class="headerlink" title="网页的组成HTML"></a>网页的组成HTML</h4><p><strong>HTML</strong>是用来描述网页的一种语言，全称叫做Hyper Text Markup Language，即超文本标记性语言。网页包括文字、按钮、图片和视频等各种复杂的元素，其基础架构就是HTML。不同类型的内容通过不同类型的标签来表示，如图片用img标签表示，视频用video标签表示，段落用p标签表示，它们之间的布局又常通过布局标签div嵌套组合而成，各种标签通过不同的排列和嵌套才形成了网页的框架。</p>
<p>在Chrome浏览器中打开百度，按F12键，打开开发者工具，按照下图所示的顺序执行，在Response选项中就可以查看百度HTML代码了。 </p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210318100540.jpeg" alt="Chrome浏览器网页HTML信息查询"></p>
<p>这就是HTML，整个网页就是由各种标签嵌套组合而成的。这些标签定义的节点元素相互嵌套和组合形成了复杂的层次关系，就形成了网页的架构。</p>
<p>HTML定义了网页的结构，但是只有HTML页面的布局并不美观，可能只是简单的节点元素的排列，为了让网页看起来更好看一些，这里借助了CSS。</p>
<h4 id="网页的组成CSS"><a href="#网页的组成CSS" class="headerlink" title="网页的组成CSS"></a>网页的组成CSS</h4><p>CSS，全称叫做Cascading Style Sheets，即层叠样式表。“层叠”是指当在HTML中引用了数个样式文件，并且样式发生冲突时，浏览器能依据层叠顺序处理。“样式”指网页中文字大小、颜色、元素间距、排列等格式。</p>
<p>CSS是目前唯一的网页页面排版样式标准，有了它的帮助，页面才会变得更为美观。</p>
<p>在Chrome浏览器中打开百度，按F12键，打开开发者工具，按照下图所示的顺序执行，在Preview选项中就可以查看百度需要用到的CSS代码了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210318100559.jpeg" alt="Chrome浏览器查看CSS代码"></p>
<h4 id="网页的组成JavaScript"><a href="#网页的组成JavaScript" class="headerlink" title="网页的组成JavaScript"></a>网页的组成JavaScript</h4><p><strong>JavaScript</strong>，简称JS，是一种脚本语言。HTML和CSS配合使用，提供给用户的只是一种静态信息，缺乏交互性。我们在网页里可能会看到一些交互和动画效果，如下载进度条、提示框、轮播图等，这通常就是JavaScript的功劳。它的出现使得用户与信息之间不只是一种浏览与显示的关系，而是实现了一种实时、动态、交互的页面功能。</p>
<p>在Chrome浏览器中打开百度，按F12键，打开开发者工具，按照下图所示的顺序执行，在Preview选项中就可以查看百度需要用到的JavaScript代码了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/wps4.jpg" alt="img"></p>
<h4 id="网页案例解析"><a href="#网页案例解析" class="headerlink" title="网页案例解析"></a>网页案例解析</h4><p>先看一个简单的电影排行的HTML的例子。代码可以在记事本中编写，保存后将后缀改为html（movies.html）。也可以在代码中新建一个HTML文档。推荐后一种方式，层次分明、可读性强。下面是实现的HTML代码：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>电影排行<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>电影排行榜单<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m_list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>1.肖申克的救赎<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>2.霸王别姬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用浏览器打开movies.html，网页效果如图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/wps5.jpg" alt="img"> </p>
<p>下面来分析一下这个HTML代码。</p>
<p>第一行用DOCTYPE定义了文档类型。</p>
<p>使用尖括号定义标签，如<code>&lt;html&gt;</code>、<code>&lt;head&gt;</code>、<code>&lt;body&gt;</code>、<code>&lt;div&gt;</code>。</p>
<p>标签是成对出现的，如<code>&lt;html&gt;</code>是起始标签，<code>&lt;/html&gt;</code>是终止标签。</p>
<p>最外层的是html标签，表示HTML代码的范围。内部包含head和body标签，分别表示网页头和网页体。</p>
<p>head标签内定义了网页的属性和引用。如<code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code>指明了网页的编码方式为UTF-8；<code>&lt;title&gt;</code>电影排行<code>&lt;/title&gt;</code>定义了网页的标题。</p>
<p>body标签内是浏览器显示的正文内容，也是爬虫获取数据的来源。</p>
<p>div标签类似于一个容器，它将内部所有的内容看成一个整体，主要用于页面的布局。</p>
<p>标签h1代表一级标题；p代表段落，会自动换行。</p>
<p>标签内可以定义自己的属性。如<code>&lt;div id=&quot;content&quot;&gt;</code>它的属性id值为content。这是一个非常有用的属性，因为整个网页中，id的值是唯一的，可以通过它快速定位到这个标签。<code>&lt;div class=&quot;m_list&quot;&gt;</code>中，属性class的值为m_list，这也是一个非常有用的属性，通过它可以定位到所有相同样式的标签。</p>
<h4 id="节点树及节点之间的关系"><a href="#节点树及节点之间的关系" class="headerlink" title="节点树及节点之间的关系"></a>节点树及节点之间的关系</h4><p>即使你了解了HTML代码，对爬虫来说也是无法从中爬取数据的，因为我们还是不知道HTML究竟是什么结构，只有了解了其结构特点，才可以在HTML中编写程序抽取出数据。</p>
<p>在HTML中，所有标签定义的内容都是节点，它们构成了一个HTML DOM树。</p>
<p>我们先看下什么是DOM，DOM是W3C（万维网联盟）的标准，其英文全称Document Object Model，即文档对象模型。它定义了访问HTML和XML文档的标准：</p>
<p><strong>W3C文档对象模型（DOM）是中立于平台和语言的接口，它允许程序和脚本动态地访问和更新文档的内容、结构和样式。</strong></p>
<p>W3C DOM标准被分为3个不同的部分。</p>
<p>核心DOM： 针对任何结构化文档的标准模型。</p>
<p>XML DOM：针对XML文档的标准模型。</p>
<p>HTML DOM：针对HTML文档的标准模型。</p>
<p>根据W3C的HTML DOM标准，HTML文档中的所有内容都是节点。</p>
<p>整个文档是一个文档节点；</p>
<p>每个HTML元素是元素节点；</p>
<p>HTML元素内的文本是文本节点；</p>
<p>每个HTML属性是属性节点；</p>
<p>注释是注释节点。</p>
<p>HTML DOM将HTML文档视作树结构，这种结构被称为节点树，如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/wps7.png" alt="img"></p>
<p>通过HTML DOM，树中的所有节点均可通过JavaScript访问，所有HTML节点元素均可被修改，也可以被创建或删除。</p>
<p>节点树中的节点彼此拥有层级关系。我们常用父（parent）、子（child）和兄弟（sibling）等术语描述这些关系。父节点拥有子节点，同级的子节点被称为兄弟节点。</p>
<p>在节点树中，顶端节点称为根（root）。除了根节点之外，每个节点都有父节点，同时可拥有任意数量的子节点或兄弟节点。下图展示了节点树以及节点之间的关系。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/wps7.png" alt="img"></p>
<p>本段参考W3SCHOOL，链接：<a target="_blank" href="http://www.w3school.com.cn/htmldom/dom_nodes.asp%E3%80%82" rel="external nofollow noreferrer noopener">http://www.w3school.com.cn/htmldom/dom_nodes.asp。</a></p>
<p>本章主要介绍了网络爬虫相关基础知识，包括网络爬虫的概念、HTTP基本原理和网页基础。</p>
<p>在网络爬虫概念一节中，了解了什么是网络爬虫，网络爬虫能用来干什么。</p>
<p>在HTTP基本原理一节中，介绍了URL、超文本、HTTP和HTTPS、HTTP请求和HTTP响应。这些都是后续实现网络爬虫的理论基础，理解了HTTP基本原理，能够更好地理解网络爬虫的原理。</p>
<p>在网页基础一节中，介绍了HTML、CSS、JS、网页结构以及节点树。这为网络爬虫实现数据的提取提供了解决方案，只有充分理解了HTML的树形结构，爬虫才可以根据其编写程序，实现最终的功能。</p>
<h3 id="网页请求requests库"><a href="#网页请求requests库" class="headerlink" title="网页请求requests库"></a>网页请求requests库</h3><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>以下是一个使用requests模块模仿浏览器访问网页的代码，输入以下代码查看res.text的网页输出结果。</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> requests

<span class="token comment" spellcheck="true"># 通过get方法获取网页的返回结果保存到res变量中</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://kui.ge'</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true"># 通过text获取返回的网页内容</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h4><p>除了以上的get方法外，还有一些其他的请求方法如下：</p>
<table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">delete(url, args)</td>
<td align="left">向指定的 URL 发送 DELETE 请求。</td>
</tr>
<tr>
<td align="left">get(url, params, args)</td>
<td align="left">向指定的 URL 发送 GET 请求，params为dict，post请求时带入参数。</td>
</tr>
<tr>
<td align="left">head(url, args)</td>
<td align="left">向指定的 URL 发送 HEAD 请求，格式为dict。</td>
</tr>
<tr>
<td align="left">patch(url, data, args)</td>
<td align="left">向指定的 URL 发送 PATCH 请求。</td>
</tr>
<tr>
<td align="left">post(url, data, json, args)</td>
<td align="left">向指定的 URL 发送 POST 请求。</td>
</tr>
<tr>
<td align="left">put(url, data, args)</td>
<td align="left">向指定的 URL 发送 PUT 请求。</td>
</tr>
<tr>
<td align="left">request(method, url, args)</td>
<td align="left">将指定方法的请求发送到指定的 URL。</td>
</tr>
</tbody></table>
<h4 id="返回方法"><a href="#返回方法" class="headerlink" title="返回方法"></a>返回方法</h4><table>
<thead>
<tr>
<th align="left">属性或方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">encoding</td>
<td align="left">查看返回数据的编码方式，使用示例：r.encoding，结果示例：utf-8</td>
</tr>
<tr>
<td align="left">status_code</td>
<td align="left">查看返回的状态码，示例：r.status_code</td>
</tr>
<tr>
<td align="left">text</td>
<td align="left">查看返回的数据内容</td>
</tr>
<tr>
<td align="left">headers</td>
<td align="left">查看返回的头部数据</td>
</tr>
<tr>
<td align="left">content</td>
<td align="left">查看返回数据的二进制内容</td>
</tr>
<tr>
<td align="left">url</td>
<td align="left">查看访问的实际URL</td>
</tr>
<tr>
<td align="left">cookies</td>
<td align="left">查看cookies内容，使用示例：r.cookies[‘ts’]</td>
</tr>
<tr>
<td align="left">json()</td>
<td align="left">返回结果如果是json，可以通过这个方法直接获取json对象</td>
</tr>
<tr>
<td align="left">cookies</td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>如果import requests显示没有这个模块，可以使用以下的方式安装。</p>
<pre><code>pip install requests</code></pre>
<h4 id="header请求"><a href="#header请求" class="headerlink" title="header请求"></a>header请求</h4><pre class="line-numbers language-python"><code class="language-python">r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.douban.com/'</span><span class="token punctuation">,</span> headers<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
r<span class="token punctuation">.</span>text<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="上传数据"><a href="#上传数据" class="headerlink" title="上传数据"></a>上传数据</h4><p>发送POST对比GET请求，需要增加data参数，例如：</p>
<pre class="line-numbers language-python"><code class="language-python">r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">'https://search.douban.com/movie/subject_search'</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'search_text'</span><span class="token punctuation">:</span> <span class="token string">'机器人总动员'</span><span class="token punctuation">,</span> <span class="token string">'cat'</span><span class="token punctuation">:</span> <span class="token string">'1002'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
r<span class="token punctuation">.</span>url <span class="token comment" spellcheck="true">#实际请求的URL</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>通过以上提交data参数，获取到相关的搜索结果信息</p>
<h4 id="上传json数据"><a href="#上传json数据" class="headerlink" title="上传json数据"></a>上传json数据</h4><p>使用json=params，内部会转化为json格式，例如：</p>
<pre class="line-numbers language-python"><code class="language-python">params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'key'</span><span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">}</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> json<span class="token operator">=</span>params<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="上传文件"><a href="#上传文件" class="headerlink" title="上传文件"></a>上传文件</h4><p>注意读取文件使用rb，否则获取的文件长度信息会不正确</p>
<pre class="line-numbers language-python"><code class="language-python">upload_files <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'file'</span><span class="token punctuation">:</span> open<span class="token punctuation">(</span><span class="token string">'report.xls'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> files<span class="token operator">=</span>upload_files<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h4 id="查找和替换"><a href="#查找和替换" class="headerlink" title="查找和替换"></a>查找和替换</h4><p>通过以上的requests模块，获取到了网页的信息，当信息多的时候，就需要检索，平时用的比较多的是搜索和替换，例如：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210317101004.png" alt="image-20210317101004414"></p>
<p>查找和替换是对文档用的最多的功能，那么在Python程序中，怎么实现查找替换的功能呢？</p>
<p>我们可以把打开的文档看作字符串，那么我们只要学会查找字符串就可以了。比如要在以下字符串中查找o这个字符，可以：</p>
<pre class="line-numbers language-python"><code class="language-python">count <span class="token operator">=</span> <span class="token number">0</span>
var <span class="token operator">=</span> <span class="token string">'hello world'</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> var<span class="token punctuation">:</span>
    <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token string">'o'</span><span class="token punctuation">:</span>
        count <span class="token operator">+=</span> <span class="token number">1</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'查找到%d次'</span> <span class="token operator">%</span> count<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<pre><code>查找到2次</code></pre>
<p>以上通过for循环对字符串var进行了遍历，并找到两个o，输出了找到的次数，这是查找和替换的简单场景，通过简单的代码也能够实现。</p>
<h4 id="search正则表达式"><a href="#search正则表达式" class="headerlink" title="search正则表达式"></a>search正则表达式</h4><p>有时候我们还会遇到一些复杂的情况，比如查找纯数字的内容、查找小写字母、甚至对查找到的数据做一些运算等等，这些功能虽然咱们自己也能够实现，还是很花时间和精力的。Python已经为我们提供了相关的工具类，而咱们要做的就是学会使用它们就可以完成字符串的查找和替换了。</p>
<p>一个简单的案例，在以下提供的字符串line中查找关键字梦想</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">import</span> re

line <span class="token operator">=</span> <span class="token triple-quoted-string string">'''每个人都拥有自己的梦想，设计自己的梦想，追求自己的梦想，实现自己的梦想。\
        梦想是生命的灵魂，是心灵的灯塔，是引导人走向成功的信仰。\
        有了崇高的梦想，只要矢志不渝地追求，梦想就会成为现实，奋斗就会变成壮举，生命就会创造奇迹。'''</span>
match <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>r<span class="token string">'梦想'</span><span class="token punctuation">,</span> line<span class="token punctuation">,</span> re<span class="token punctuation">.</span>M<span class="token operator">|</span>re<span class="token punctuation">.</span>I<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>以上代码的输出结果是</p>
<pre><code>&lt;re.Match object; span=(9, 11), match=&#39;梦想&#39;&gt;</code></pre>
<p>结果说明：从结果中已经告诉我们在line列表中找到了<strong>梦想</strong>关键字，在第九到第11个字符。</p>
<p>代码解析：以上代码中，使用了re类，是Regular Expression的简写，有时候也简写成regex，中文含义是正则表达式，通过import的方式引入外部类，如第3行import re；</p>
<p>第8行<code>re.search(pattern, string, flag)</code>的search是re类的一个方法，三个参数在刚才的例子中表示为在string（第二个参数）中查找pattern（第一个参数）字符串第一次出现的地方，满足一定的flag（要求，比如大小写敏感等）。</p>
<p><strong>re.reasch的使用说明如下</strong></p>
<p>re.search 扫描整个字符串并返回第一个成功的匹配。</p>
<p>函数语法：</p>
<pre><code>re.search(pattern, string, flags=0)</code></pre>
<p>函数参数说明：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">pattern</td>
<td align="left">匹配的正则表达式</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">要匹配的字符串。</td>
</tr>
<tr>
<td align="left">flags</td>
<td align="left">标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等等。</td>
</tr>
</tbody></table>
<p>匹配成功re.search方法返回一个匹配的对象，否则返回None。</p>
<p>我们可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式。</p>
<table>
<thead>
<tr>
<th align="left">匹配对象方法</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">group(num=0)</td>
<td align="left">匹配的整个表达式的字符串，group() 可以一次输入多个组号，在这种情况下它将返回一个包含那些组所对应值的元组。</td>
</tr>
<tr>
<td align="left">groups()</td>
<td align="left">返回一个包含所有小组字符串的元组，从 1 到 所含的小组号。</td>
</tr>
</tbody></table>
<h4 id="findall正则表达式"><a href="#findall正则表达式" class="headerlink" title="findall正则表达式"></a>findall正则表达式</h4><p>通过re.search咱们发现，它只能找到字符串第一次出现的地方，而如果需要找所有出现的地方就需要使用findall了。</p>
<p>在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表。</p>
<p><strong>注意：</strong> match 和 search 是匹配一次 findall 匹配所有。</p>
<p>语法格式为：</p>
<pre><code>findall(string[, pos[, endpos]])</code></pre>
<p>参数：</p>
<ul>
<li><strong>string</strong> : 待匹配的字符串。</li>
<li><strong>pos</strong> : 可选参数，指定字符串的起始位置，默认为 0。</li>
<li><strong>endpos</strong> : 可选参数，指定字符串的结束位置，默认为字符串的长度。</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">import</span> re

line <span class="token operator">=</span> <span class="token triple-quoted-string string">'''每个人都拥有自己的梦想，设计自己的梦想，追求自己的梦想，实现自己的梦想。\
        梦想是生命的灵魂，是心灵的灯塔，是引导人走向成功的信仰。\
        有了崇高的梦想，只要矢志不渝地追求，梦想就会成为现实，奋斗就会变成壮举，生命就会创造奇迹。'''</span>

pattern <span class="token operator">=</span> re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span>r<span class="token string">'梦想'</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<pre><code>[&#39;梦想&#39;, &#39;梦想&#39;, &#39;梦想&#39;, &#39;梦想&#39;, &#39;梦想&#39;, &#39;梦想&#39;, &#39;梦想&#39;]</code></pre>
<p>可以看到找到了7次匹配的内容,re.compile通过提供的正则表达式生成了正则表达式对象pattern，再通过pattern.findall获取到要匹配的文本进行规则的匹配，并找到符合正则表达式的所有内容。</p>
<h4 id="sub正则表达式"><a href="#sub正则表达式" class="headerlink" title="sub正则表达式"></a>sub正则表达式</h4><p>通过search和findall已经可以完成对字符串的查找了，怎么替换呢？使用sub正则表达式。</p>
<p>语法：</p>
<pre><code>re.sub(pattern, repl, string, count=0, flags=0)</code></pre>
<p>参数：</p>
<ul>
<li>pattern : 正则中的模式字符串。</li>
<li>repl : 替换的字符串，也可为一个函数。</li>
<li>string : 要被查找替换的原始字符串。</li>
<li>count : 模式匹配后替换的最大次数，默认 0 表示替换所有的匹配。</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># coding=utf-8</span>

<span class="token keyword">import</span> re

line <span class="token operator">=</span> <span class="token string">"每个人的身上都有毛毛，我要为你唱毛毛"</span>

result <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>r<span class="token string">'毛毛'</span><span class="token punctuation">,</span> r<span class="token string">"猫猫"</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<pre><code>每个人的身上都有猫猫，我要为你唱猫猫</code></pre>
<p>咱们发现字符串里所有的毛毛变成了猫猫，这个是sub的替换功能实现的。</p>
<h4 id="正则表达式常用匹配符"><a href="#正则表达式常用匹配符" class="headerlink" title="正则表达式常用匹配符"></a>正则表达式常用匹配符</h4><p>构造正则表达式的方法和创建数学表达式的方法一样。正则表达式的组件可以是单个的字符、字符集合、字符范围、字符间的选择或者所有这些组件的任意组合。下表为正则表达式的重要符号：</p>
<table>
<thead>
<tr>
<th><strong><em>\</em>符号**</strong></th>
<th><strong><em>\</em>描述**</strong></th>
<th><strong><em>\</em>符号**</strong></th>
<th><strong><em>\</em>描述**</strong></th>
</tr>
</thead>
<tbody><tr>
<td>\w</td>
<td>匹配字母、数字、下划线</td>
<td>.</td>
<td>匹配任意字符，包括汉字</td>
</tr>
<tr>
<td>\W</td>
<td>匹配不是字母、数字、下划线的字符</td>
<td>[m]</td>
<td>匹配单个字符串</td>
</tr>
<tr>
<td>\s</td>
<td>匹配空白字符</td>
<td>[m1m2…n]</td>
<td>匹配多个字符串</td>
</tr>
<tr>
<td>\S</td>
<td>匹配不是空白的字符</td>
<td>[m-n]</td>
<td>匹配m到n区间内的数字、字母</td>
</tr>
<tr>
<td>\d</td>
<td>匹配数字</td>
<td>[^m]</td>
<td>匹配除m以外的字符串</td>
</tr>
<tr>
<td>\D</td>
<td>匹配非数字的字符</td>
<td>()</td>
<td>对正则表达式进行分组，一对圆括号表示一组</td>
</tr>
<tr>
<td>*</td>
<td>重复0或N次</td>
<td>{m}</td>
<td>重复m次</td>
</tr>
<tr>
<td>+</td>
<td>重复1或N次</td>
<td>{m,n}</td>
<td>该限定符的意思是至少有 m 个重复，至多到 n 个重复</td>
</tr>
<tr>
<td>?</td>
<td>重复0或1次</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>正则表达式的规则比较多，但是对于爬虫而言，我们只要掌握几个重要的规则就可以了。</p>
<ul>
<li>. ：匹配任意字符，换行\n除外</li>
<li>*：匹配前一个字符0次或无限次</li>
<li>？：匹配前一个字符0次或一次</li>
<li>.* ：贪心算法</li>
<li>（.*?）：非贪心算法，（）内的数据作为结果输出</li>
</ul>
<h4 id="举例说明-匹配符"><a href="#举例说明-匹配符" class="headerlink" title="举例说明.匹配符"></a>举例说明.匹配符</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaaabab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a.b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<pre><code>[&#39;aab&#39;, &#39;aab&#39;]</code></pre>
<p>可以看到a和b中间有字符且不是换行的都被匹配了出来</p>
<h4 id="举例说明-匹配符-1"><a href="#举例说明-匹配符-1" class="headerlink" title="举例说明*匹配符"></a>举例说明*匹配符</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaaabab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a*b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre><code>[&#39;aab&#39;, &#39;ab&#39;, &#39;aaab&#39;, &#39;ab&#39;]</code></pre>
<p>可以看到不管a重复了几次都被匹配了出来</p>
<h4 id="举例说明-贪婪算法"><a href="#举例说明-贪婪算法" class="headerlink" title="举例说明.*贪婪算法"></a>举例说明.*贪婪算法</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaaabab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a.*b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre><code>[&#39;aababaaabab&#39;]</code></pre>
<p>只要满足从a开始的，就开始截取，然后找到所有的b，并找到最长的那个作为截止。</p>
<h4 id="举例说明-非贪婪算法"><a href="#举例说明-非贪婪算法" class="headerlink" title="举例说明.*?非贪婪算法"></a>举例说明.*?非贪婪算法</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaaabab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a.*?b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre><code>[&#39;aab&#39;, &#39;ab&#39;, &#39;aaab&#39;, &#39;ab&#39;]</code></pre>
<p>从左到右只要满足从a开始到b结束的就截取出来，ab中间没有字符也会被截取</p>
<h4 id="举例说明-非贪婪算法-1"><a href="#举例说明-非贪婪算法-1" class="headerlink" title="举例说明(.*?)非贪婪算法"></a>举例说明(.*?)非贪婪算法</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaaabab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a(.*?)b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果</p>
<pre><code>[&#39;a&#39;, &#39;&#39;, &#39;aa&#39;, &#39;&#39;]</code></pre>
<p>相比于.*?的结果()表示只保留了中间的部分，两边匹配的去除掉</p>
<p>另外如果字符串中有回车换行<code>\n</code>存在，需要使用<code>re.S</code>，这样就不会中断执行了。</p>
<h4 id="举例说明修饰符标志的用法"><a href="#举例说明修饰符标志的用法" class="headerlink" title="举例说明修饰符标志的用法"></a>举例说明修饰符标志的用法</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> re

var <span class="token operator">=</span> <span class="token string">'aababaa \n abab'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a.*?b'</span><span class="token punctuation">,</span> var<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>r<span class="token string">'a.*?b'</span><span class="token punctuation">,</span> var<span class="token punctuation">,</span> re<span class="token punctuation">.</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果为</p>
<pre><code>[&#39;aab&#39;, &#39;ab&#39;, &#39;ab&#39;, &#39;ab&#39;]
[&#39;aab&#39;, &#39;ab&#39;, &#39;aa \n ab&#39;, &#39;ab&#39;]</code></pre>
<p>可以看到带有re.S的把回车换行符<code>\n</code>也当作普通字符处理了，而没有re.S，则换行后，匹配会重新计算。</p>
<h4 id="可选的修饰符标志"><a href="#可选的修饰符标志" class="headerlink" title="可选的修饰符标志"></a>可选的修饰符标志</h4><table>
<thead>
<tr>
<th align="left">修饰符</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">re.I</td>
<td align="left">使匹配对大小写不敏感</td>
</tr>
<tr>
<td align="left">re.L</td>
<td align="left">做本地化识别（locale-aware）匹配</td>
</tr>
<tr>
<td align="left">re.M</td>
<td align="left">多行匹配，影响 ^ 和 $</td>
</tr>
<tr>
<td align="left">re.S</td>
<td align="left">使 . 匹配包括换行在内的所有字符</td>
</tr>
<tr>
<td align="left">re.U</td>
<td align="left">根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</td>
</tr>
<tr>
<td align="left">re.X</td>
<td align="left">该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</td>
</tr>
</tbody></table>
<h3 id="XPath的HTML解析"><a href="#XPath的HTML解析" class="headerlink" title="XPath的HTML解析"></a>XPath的HTML解析</h3><h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p>一个简单的HTML，使用XPath解析的案例</p>
<p>现有一个网址导航的HTML文档link.html，代码如下所示：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>网址导航<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>m_list<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.baidu.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.sina.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>新浪<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面我们使用Xpath提取该页面的中的数据。</p>
<p><strong>1. 准备工作：加载link.html页面。</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree
<span class="token comment" spellcheck="true">#解析movies.html文件，返回一个节点树的对象</span>
html_selector <span class="token operator">=</span> etree<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">"link.html"</span><span class="token punctuation">,</span>etree<span class="token punctuation">.</span>HTMLParser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>2. 使用斜杠（/）从根节点开始获取html元素。</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#获取根节点html的元素</span>
root <span class="token operator">=</span> html_selector<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"/html"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>输出结果为：</p>
<p><code>[&lt;Element html at 0x28c42b74dc8&gt;]</code></p>
<p>由结果可知，返回一个html元素的对象。</p>
<p><strong>3. 使用斜杠（/）从根节点开始逐层查找元素的子节点。</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#斜杠（/）获取节点title</span>
title <span class="token operator">=</span> html_selector<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"/html/head/title"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>输出结果为：</p>
<p><code>[&lt;Element title at 0x24931025ec8&gt;]</code></p>
<p>由结果可知，返回一个title元素的对象。</p>
<p><strong>4. 使用text()获取节点title中的文本。</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#斜杠（/）获取节点title</span>
title <span class="token operator">=</span> html_selector<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"/html/head/title/text()"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>输出结果为：</p>
<p><code>[&#39;Title&#39;]</code></p>
<p><strong>5. 获取所有链接名称。</strong></p>
<pre class="line-numbers language-python"><code class="language-python">link_name <span class="token operator">=</span> html_selector<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"//a/text()"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>link_name<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出结果为：</p>
<p><code>[&#39;百度&#39;, &#39;新浪&#39;]</code></p>
<p><strong>6. 获取所有链接地址。</strong></p>
<pre class="line-numbers language-python"><code class="language-python">link <span class="token operator">=</span> html_selector<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">"//a/@href"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<p><code>[&#39;https://www.baidu.com&#39;, &#39;http://www.sina.com&#39;]</code></p>
<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>网络爬虫最核心、最重要的工作是从HTML文档中将想要的数据提取出来，而使用XPath就可以很轻松地解析HTML文档信息。下面来看一下什么是XPath。</p>
<p>XPath全称<strong>X</strong>ML <strong>Path</strong> Language，即XML路径语言。它是一门在XML文档中查找信息的语言。HTML与XML结构类似，也可以在HTML中查找信息。</p>
<p>XPath 使用路径表达式来选取HTML文档中的节点或者节点集。这些路径表达式和我们在常规的电脑文件系统中看到的表达式非常相似。</p>
<p>例如，Windows系统中，要指明桌面上的文件hello.py的路径，通常可以写成：C:\Users\aibit\Desktop\hello.py。从C盘开始，使用反斜杠（\）逐级往下找，直到最终的目标</p>
<h4 id="路径表达式"><a href="#路径表达式" class="headerlink" title="路径表达式"></a>路径表达式</h4><p>XPath 使用路径表达式来选取HTML文档中的节点或者节点集。</p>
<p>常用的XPath路径表达式如下表所示：</p>
<table>
<thead>
<tr>
<th><strong>表达式</strong></th>
<th><strong>描述</strong></th>
<th><strong>示例</strong></th>
</tr>
</thead>
<tbody><tr>
<td>nodename</td>
<td>选取此节点的所有子节点</td>
<td>div,p,h1</td>
</tr>
<tr>
<td>/</td>
<td>从根节点选取（描述绝对路径）</td>
<td>/html</td>
</tr>
<tr>
<td>//</td>
<td>不考虑位置，选取页面中所有子孙节点</td>
<td>//div</td>
</tr>
<tr>
<td>.</td>
<td>选取当前节点（描述相对路径）</td>
<td>./div</td>
</tr>
<tr>
<td>..</td>
<td>选取当前节点的父节点（描述相对路径）</td>
<td>h1/../</td>
</tr>
<tr>
<td>@属性名</td>
<td>选取属性的值</td>
<td>@href,@id</td>
</tr>
<tr>
<td>text()</td>
<td>获取元素中的文本节点</td>
<td>//h1/text()</td>
</tr>
</tbody></table>
<p>大家对诸如：斜杠（/）、点（.）、两点（..）的用法一定不会陌生。即使不熟悉也没关系，因为XPath的语法实在太简单了。下面通过一个实例来加深对XPath用法的理解。</p>
<h3 id="BeautifulSoup的HTML解析"><a href="#BeautifulSoup的HTML解析" class="headerlink" title="BeautifulSoup的HTML解析"></a>BeautifulSoup的HTML解析</h3><p>除了XPath，另一个非常流行、功能强大的数据解析工具就是BeautifulSoup了，它借助网页的结构和属性等特性来解析网页，只需要简单的几条语句，就可以完成网页中某个元素的提取。接下来就来感受一下Beautiful Soup的强大之处吧。</p>
<p>简单来说，Beautiful Soup就是Python的一个HTML或XML的解析库，可以用它来方便地从网页中提取数据。官方解释如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329120725.png" alt="Beautiful Soup官方解释"></p>
<p>Beautiful Soup已成为和lxml、html6lib一样出色的Python解释器，为用户灵活地提供不同的解析策略或强劲的速度。</p>
<h4 id="安装BeautifulSoup"><a href="#安装BeautifulSoup" class="headerlink" title="安装BeautifulSoup"></a>安装BeautifulSoup</h4><p>首先，我们需要安装BeautifulSoup。可以使用pip命令安装：</p>
<p>pip install beautifulsoup4</p>
<p>这个包兼容Python2和Python3。</p>
<h4 id="解析器"><a href="#解析器" class="headerlink" title="解析器"></a>解析器</h4><p>Beautiful Soup支持Python标准库中的HTML解析器,还支持一些第三方的解析器，如lxml。上一节我们已经安装了lxml。</p>
<p>下表列出了主要的解析器,以及它们的优缺点:</p>
<table>
<thead>
<tr>
<th><strong><em>\</em>解析器**</strong></th>
<th><strong><em>\</em>使用方法**</strong></th>
<th><strong><em>\</em>优势**</strong></th>
<th><strong><em>\</em>劣势**</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Python标准库</td>
<td>BeautifulSoup(markup, “html.parser”)</td>
<td>ü Python的内置标准库ü 执行速度适中ü 文档容错能力强</td>
<td>Python 2.7.3 or 3.2.2)前 的版本中文档容错能力差</td>
</tr>
<tr>
<td>lxml HTML 解析器</td>
<td>BeautifulSoup(markup, “lxml”)</td>
<td>ü 速度快ü 文档容错能力强</td>
<td>需要安装C语言库</td>
</tr>
<tr>
<td>lxml XML 解析器</td>
<td>BeautifulSoup(markup, [“lxml”, “xml”])BeautifulSoup(markup, “xml”)</td>
<td>ü 速度快ü 唯一支持XML的解析器</td>
<td>需要安装C语言库</td>
</tr>
<tr>
<td>html5lib</td>
<td>BeautifulSoup(markup, “html5lib”)</td>
<td>ü 最好的容错性ü 以浏览器的方式解析文档ü 生成HTML5格式的文档</td>
<td>速度慢不依赖外部扩展</td>
</tr>
</tbody></table>
<p>推荐使用lxml作为解析器,因为效率更高。本课程默认使用的也是lxml。</p>
<h4 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h4><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token keyword">import</span> bs4

res <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token string">"https://www.douban.com/tag/%E5%B0%8F%E8%AF%B4/?focus=book"</span><span class="token punctuation">)</span>
soup <span class="token operator">=</span> bs4<span class="token punctuation">.</span>BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span>
book_div <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>attrs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"id"</span><span class="token punctuation">:</span><span class="token string">"book"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
book_a <span class="token operator">=</span> book_div<span class="token punctuation">.</span>findAll<span class="token punctuation">(</span>attrs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"class"</span><span class="token punctuation">:</span><span class="token string">"title"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> book <span class="token keyword">in</span> book_a<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>book<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h4><p>Beautiful Soup还提供了另外一种选择器，那就是CSS选择器。如果对Web开发熟悉的话，那么对CSS选择器肯定也不陌生。如果不熟悉的话，可以参考<a target="_blank" href="http://www.w3school.com.cn/cssref/css_selectors.asp%E4%BA%86%E8%A7%A3%E3%80%82" rel="external nofollow noreferrer noopener">http://www.w3school.com.cn/cssref/css_selectors.asp了解。</a></p>
<p>使用CSS选择器时，只需要调用select()方法，传入相应的CSS选择器即可。</p>
<h2 id="三、1天学会爬虫数据持久化保存"><a href="#三、1天学会爬虫数据持久化保存" class="headerlink" title="三、1天学会爬虫数据持久化保存"></a>三、1天学会爬虫数据持久化保存</h2><h3 id="Docker服务环境搭建"><a href="#Docker服务环境搭建" class="headerlink" title="Docker服务环境搭建"></a>Docker服务环境搭建</h3><p>docker 是通过 yum install docker安装的，搜了一把，原来是因为linux与docker版本的兼容性问题。那就卸载旧版本安装最新版试试。</p>
<p>0.通过uname -r命令查看你当前的内核版本</p>
<pre><code>uname -r</code></pre>
<p>1.使用 <code>root</code> 权限登录 Centos。确保 yum 包更新到最新。</p>
<pre><code>sudo yum update</code></pre>
<p>2.卸载旧版本(如果安装过旧版本的话)</p>
<pre><code>sudo yum remove docker  docker-common docker-selinux docker-engine</code></pre>
<p>3.安装需要的软件包， yum-util 提供yum-config-manager功能，另外两个是devicemapper驱动依赖的</p>
<pre><code>sudo yum install -y yum-utils device-mapper-persistent-data lvm2</code></pre>
<p>4.设置yum源</p>
<pre><code>sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</code></pre>
<p>5.可以查看所有仓库中所有docker版本，并选择特定版本安装</p>
<pre><code>yum list docker-ce --showduplicates | sort -r</code></pre>
<p>6.安装docker</p>
<pre><code>sudo yum install docker-ce</code></pre>
<p>7.启动并加入开机启动</p>
<pre><code>sudo systemctl start dockersudo systemctl enable docker</code></pre>
<p>8.验证安装是否成功(有client和service两部分表示docker安装启动都成功了)</p>
<pre><code> docker version

经过以上一通操作，pull 一下镜像再执行docker run命令，问题解决。</code></pre>
<p>官网地址:<a target="_blank" href="https://docs.docker.com/compose/install/" rel="external nofollow noreferrer noopener">https://docs.docker.com/compose/install/</a></p>
<p> <strong>Docker Compose</strong></p>
<p>1、运行此命令以下载Docker Compose的当前稳定版本</p>
<p>sudo curl -L “<a target="_blank" href="https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$" rel="external nofollow noreferrer noopener">https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$</a>(uname -s)-$(uname -m)” -o /usr/local/bin/docker-compose<br>以上运行过慢，换成国内的</p>
<p>sudo curl -L “<a target="_blank" href="https://get.daocloud.io/docker/compose/releases/download/1.24.1/docker-compose-$" rel="external nofollow noreferrer noopener">https://get.daocloud.io/docker/compose/releases/download/1.24.1/docker-compose-$</a>(uname -s)-$(uname -m)” -o /usr/local/bin/docker-compose</p>
<p>2、对二进制文件应用可执行权限：</p>
<p>chmod +x /usr/local/bin/docker-compose<br> 3、参考官网如下</p>
<p>安装完成后，可测试 docker-compose –version</p>
<p>查看版本</p>
<p><strong>docker-compose.yml</strong></p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'2.0'</span>
<span class="token comment" spellcheck="true">#mysql mongo redis</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">mongo</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mongo
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mongo
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"27017:27017"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /data/mongo/db<span class="token punctuation">:</span>/data/db    <span class="token comment" spellcheck="true">#数据挂载本地</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net  
    <span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 最好设置，因为数据库的日志占很大的内存，定期清理比较好</span>
        <span class="token key atrule">driver</span><span class="token punctuation">:</span> <span class="token string">"json-file"</span>   <span class="token comment" spellcheck="true"># 设置日志格式</span>
        <span class="token key atrule">options</span><span class="token punctuation">:</span>
           <span class="token key atrule">max-size</span><span class="token punctuation">:</span> <span class="token string">"100m"</span>  <span class="token comment" spellcheck="true"># 单个日志文件的最大内存</span>
           <span class="token key atrule">max-file</span><span class="token punctuation">:</span> <span class="token string">"3"</span>   <span class="token comment" spellcheck="true">#最多保留几个文件，如果超多三个文件，会自动删除最早的一个</span>


  <span class="token key atrule">mongo-express</span><span class="token punctuation">:</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> mongo
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mongo<span class="token punctuation">-</span>express
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mongo<span class="token punctuation">-</span>express
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8081:8081"</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"6379:6379"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /data/redis<span class="token punctuation">:</span>/data
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net


  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"3306:3306"</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /data/mysql<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD=123456  <span class="token comment" spellcheck="true">#设置root 用户密码</span>
        <span class="token punctuation">-</span> MYSQL_DATABASE=testDB
        <span class="token punctuation">-</span> MYSQL_USER=userName
        <span class="token punctuation">-</span> MYSQL_PASSWORD=xxxxx

  <span class="token key atrule">adminer</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> adminer
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> adminer
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8080:8080"</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net


  <span class="token key atrule">phpredisadmin</span><span class="token punctuation">:</span>
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis
    <span class="token key atrule">image</span><span class="token punctuation">:</span> erikdubbelboer/phpredisadmin
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> phpredisadmin
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ADMIN_USER=admin
      <span class="token punctuation">-</span> ADMIN_PASS=pass
      <span class="token punctuation">-</span> REDIS_1_HOST=redis
      <span class="token punctuation">-</span> REDIS_1_PORT=6379
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">"8082:80"</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>net


<span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true">#  设置网络，使当前配置中的container都处在同一个网络环境</span>
  <span class="token key atrule">app-net</span><span class="token punctuation">:</span>
    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在这个文件目录下执行<code>docker-compose up -d</code></p>
<p>第一次会自动下载相关的docker镜像，</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span>root@aliyunhost docker<span class="token punctuation">]</span><span class="token comment" spellcheck="true"># docker-compose up -d</span>
Removing mongo
Removing redis
Removing mysql
Removing adminer
Pulling mongo <span class="token punctuation">(</span>mongo:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from library/mongo
6e0aa5e7af40: Pull complete
d47239a868b3: Pull complete
49cbb10cca85: Pull complete
9729d7ec22de: Pull complete
7b7fd72268d8: Pull complete
5e2934dacaf5: Pull complete
bf9da24d4b2c: Pull complete
d2f8c3715616: Pull complete
dac42b84e850: Pull complete
0724cb122c25: Pull complete
f0fe10b8b0c1: Pull complete
28e025c87f29: Pull complete
Digest: sha256:75a5f624bd6d14254e0d84c2833f576109672750aaf2bf01d61cb5ead44f4505
Status: Downloaded newer image <span class="token keyword">for</span> mongo:latest
Pulling mongo-express <span class="token punctuation">(</span>mongo-express:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from library/mongo-express
839b45e0263a: Pull complete
4e998bcc33c0: Pull complete
c22cf2090e91: Pull complete
878525310d1a: Pull complete
db887bbaed1c: Pull complete
d3a58ba86626: Pull complete
d6c8e5cc21ae: Pull complete
38edb5da73d5: Pull complete
Digest: sha256:15744add870beddeab3235fc6b32c45817d73cc035fa7a51cfc0137ff99c6ee2
Status: Downloaded newer image <span class="token keyword">for</span> mongo-express:latest
Pulling redis <span class="token punctuation">(</span>redis:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from library/redis
ac2522cc7269: Pull complete
b388ed2d8c47: Pull complete
bbeb7f306246: Pull complete
0274447d4995: Pull complete
599fc96d5a95: Pull complete
7acf02fb3b33: Pull complete
Digest: sha256:2d17fb90c268b1c7799234216c875490a35fe8fa13fbc5495b7247d93e77255e
Status: Downloaded newer image <span class="token keyword">for</span> redis:latest
Pulling mysql <span class="token punctuation">(</span>mysql:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from library/mysql
ac2522cc7269: Already exists
3ff4d5966d00: Pull complete
c8a8e9739c9e: Pull complete
8fd773bacd12: Pull complete
adbceeecb7f3: Pull complete
6b53011e5d04: Pull complete
32ae8cea62cb: Pull complete
cf09f068015c: Pull complete
41d80f48621d: Pull complete
fa9d48194f31: Pull complete
8ea01c86a52b: Pull complete
69e9db22376c: Pull complete
Digest: sha256:00b627abbd6e91d5d0e4be786869930497b9759bf40db3f15408bb894daf5263
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest
Pulling adminer <span class="token punctuation">(</span>adminer:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from library/adminer
9aae54b2144e: Pull complete
0552190813ec: Pull complete
d6abf49ad7ff: Pull complete
4a7b791901cf: Pull complete
f2ba0fadefcb: Pull complete
636a54b61db2: Pull complete
2e4910bcf8e6: Pull complete
916259daac19: Pull complete
964bb1b3446a: Pull complete
8412ac9f0551: Pull complete
801b463cfa6c: Pull complete
830dcd0791af: Pull complete
ffd662d4e755: Pull complete
f636d4cf2f7f: Pull complete
924162d16142: Pull complete
Digest: sha256:1bf211fe728494901bba5461024fa8011182a97f8d5fbd121a19e58043e41e9e
Status: Downloaded newer image <span class="token keyword">for</span> adminer:latest
Pulling phpredisadmin <span class="token punctuation">(</span>erikdubbelboer/phpredisadmin:<span class="token punctuation">)</span><span class="token punctuation">..</span>.
latest: Pulling from erikdubbelboer/phpredisadmin
Digest: sha256:a50ff6e3ec659a9f6a5b76952e1d3bc0547caf5c63a509092a0c6ab72a2c58ca
Status: Downloaded newer image <span class="token keyword">for</span> erikdubbelboer/phpredisadmin:latest
Recreating 184e4c8c516b_mysql   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Recreating 9e802b5c3a7b_redis   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Recreating e6584843b316_adminer <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Recreating 5a633dfe60eb_mongo   <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Creating mongo-express          <span class="token punctuation">..</span>. <span class="token keyword">done</span>
Creating phpredisadmin          <span class="token punctuation">..</span>. <span class="token keyword">done</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>查看容器运行状态</p>
<pre><code>docker ps</code></pre>
<p>显示内容如下：</p>
<pre><code>CONTAINER ID   IMAGE                          COMMAND                  CREATED         STATUS         PORTS                               NAMES
d15264f725ab   erikdubbelboer/phpredisadmin   &quot;tini -- php -S 0.0.…&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:8082-&gt;80/tcp                phpredisadmin
eb74afe91d88   mongo-express                  &quot;tini -- /docker-ent…&quot;   2 minutes ago   Up 2 minutes   0.0.0.0:8081-&gt;8081/tcp              mongo-express
cf9bc31fa915   redis                          &quot;docker-entrypoint.s…&quot;   3 minutes ago   Up 2 minutes   6379/tcp, 0.0.0.0:8379-&gt;8379/tcp    redis
608b3a3fcabe   mysql                          &quot;docker-entrypoint.s…&quot;   3 minutes ago   Up 2 minutes   0.0.0.0:3306-&gt;3306/tcp, 33060/tcp   mysql
4b78e3790fb2   adminer                        &quot;entrypoint.sh docke…&quot;   3 minutes ago   Up 2 minutes   0.0.0.0:8080-&gt;8080/tcp              adminer
3591a2841870   mongo                          &quot;docker-entrypoint.s…&quot;   3 minutes ago   Up 2 minutes   0.0.0.0:27017-&gt;27017/tcp            mongo</code></pre>
<p>以上说明相关的服务已经启动了，端口分别是，adminer（8888），mongo-express（8081），phpredisadmin（8082），确保你的服务器对应的端口是可以访问的，如果不能访问，需要去服务器的控制台设置入站规则。如果本地启动的话直接访问就可以了。</p>
<p>mongo-express界面</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329183456.png" alt="image-20210329183456045"></p>
<p>adminer界面,登录的服务器就是在docker-compose.yml中设置的 mysql，用户是root用户，密码是MYSQL_ROOT_PASSWORD对应的密码</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329183721.png" alt="mysql配置服务名称和登录密码"></p>
<p>通过端口8080登录mysql服务：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329183840.png" alt="登录mysql"></p>
<p>登录成功后，可对mysql数据库进行增删改查，界面如下：<img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329184012.png" alt="image-20210329184012060"></p>
<p>Redis登录界面</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329184647.png" alt="Redis登录界面"></p>
<p>用户名密码参考docker-compose.yml配置文件：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329184747.png" alt="Redis账号密码配置文件"></p>
<p>是不是很简单，只要有这个配置文件，不管在哪，只要装好docker ，一个启动指令，一切就都搞定了。</p>
<h3 id="文件保存"><a href="#文件保存" class="headerlink" title="文件保存"></a>文件保存</h3><h3 id="Mysql关系型数据库存储"><a href="#Mysql关系型数据库存储" class="headerlink" title="Mysql关系型数据库存储"></a>Mysql关系型数据库存储</h3><h3 id="MongoDB非关系型数据库存储"><a href="#MongoDB非关系型数据库存储" class="headerlink" title="MongoDB非关系型数据库存储"></a>MongoDB非关系型数据库存储</h3><h3 id="Redis键值对数据存储"><a href="#Redis键值对数据存储" class="headerlink" title="Redis键值对数据存储"></a>Redis键值对数据存储</h3><h2 id="四、1天学会反爬虫"><a href="#四、1天学会反爬虫" class="headerlink" title="四、1天学会反爬虫"></a>四、1天学会反爬虫</h2><h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p><strong>cookie的概念</strong></p>
<p>在浏览网站的过程中，我们经常会遇到需要登录的情况，有些页面只有登录之后才可以访问，而且登录之后可以连续访问很多次网站，但是有时候过一段时间就需要重新登录。还有一些网站，在打开浏览器时就自动登录了，而且很长时间都不会失效。这都是Cookie在起作用。</p>
<p>Cookie 是由 Web 服务器保存在用户浏览器（客户端）上的小文本文件，它可以包含有关用户的信息。</p>
<p>无论何时，用户链接到服务器，Web 站点都可以访问 Cookie 信息。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123553.jpg" alt="cookie运行原理"> </p>
<p>也就是说，当我们输入用户名和密码，提交给网站服务器后，网站服务器验证信息正确后会把对应的“身份信息”返回给浏览器，浏览器保存于本地，之后对该网站发送的其他HTTP请求都会带上这个“身份信息”，服务器通过这个“身份信息”识别用户，将相应页面发送给浏览器，而无需再次登录。</p>
<p><strong>获取Cookie</strong></p>
<p>要是我们能获取到登录后的“身份信息”，那所有问题不都解决了吗？因为如果获取了“身份信息”，就可以通过爬虫发送给网站服务器，这样网站服务器不就可以确认身份，就能获取到相应需要登录的页面了吗？</p>
<p>如何获取保存于Cookie中的“身份信息”呢？以登录豆瓣网，获取个人信息为例，获取Cookie信息的步骤如下图所示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123611.jpg" alt="豆瓣cookie获取流程"></p>
<h3 id="网站模拟登录"><a href="#网站模拟登录" class="headerlink" title="网站模拟登录"></a>网站模拟登录</h3><h3 id="Ajax动态网页"><a href="#Ajax动态网页" class="headerlink" title="Ajax动态网页"></a>Ajax动态网页</h3><p>前几章，我们成功爬取了一些网站的信息，但很快你会发现，在爬取诸如：QQ音乐、今日头条、知乎、美团网时，即使浏览器中能完美展现页面，代码也毫无漏洞，怎么都获取不到想要的数据。这是因为我们获取的仅仅是原始的HTML文档，而浏览器中的页面则是经过JavaScript处理数据后生成的结果，这些数据的来源有多种，可能是通过Ajax加载的，可能是包含在HTML文档中的，也可能是经过JavaScript和特定算法计算后生成的，这种页面就叫做动态页面。</p>
<p>本章将会实现Ajax数据的爬取。主要内容包括：</p>
<p>\1. Ajax介绍</p>
<p>介绍Ajax的概念，用法。建议学习时长为0.5学时。</p>
<p>\2. Ajax分析方法</p>
<p>使用Chrome浏览器查看Ajax请求，获取Ajax请求等。建议学习时长0.5学时。</p>
<p>\3. Selenium实现动态页面的爬取</p>
<p>使用Web应用程序测试的工具实现动态页面的爬取。建议学习时长为1.5学时。</p>
<p>\4. Selenium案例实现</p>
<p>实现一个Selenium综合案例。</p>
<p>本章的学习路径如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123754.jpg" alt="Ajax数据爬虫分析路径"></p>
<p><strong>问题</strong></p>
<p>学到这里，很多人可能会跃跃欲试，到各大网站爬取自己想要的数据了。但是，现实是你可能会乘兴而来败兴而归。因为更大的难题还在等着我们，例如，看下面的例子。</p>
<p>下图是豆瓣电影的影视页，网址为：<a target="_blank" href="https://movie.douban.com/tag/#/%E3%80%82" rel="external nofollow noreferrer noopener">https://movie.douban.com/tag/#/。</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123900.jpg" alt="img"> </p>
<p>现要获取该页面的影视信息。方法步骤如下：</p>
<p>通过Chrome浏览器的“开发者工具”获取HTML页面并解析代码，然后使用XPath获取电影的各个字段，最后保存起来。</p>
<p>但得到的结果却是：什么数据都没有，不要怀疑你的代码，因为你获取的HTML代码就是没有数据，来看一下证据，如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123854.jpg" alt="img"> </p>
<p>但事实是我们看到的页面确实有数据，这些数据从哪来的，又到哪去了呢?如何获取这些数据呢？我们接着往下看。</p>
<p><strong>Ajax引入</strong></p>
<p>传统的网页，如果想要更新内容，必须刷新整个页面，重新加载所有内容。有了Ajax，便可以在页面不被全部刷新的情况下，只更新局部内容。相对传统页面，使用Ajax的好处显而易见。</p>
<p>（1） 更好的用户体验</p>
<p>无需频繁手动重新刷新整个页面，，减少了页面加载的等待时间，大大提升了用户体验，增加用户粘性。</p>
<p>（2） 节省流量</p>
<p>由于只更新了局部页面的数据，相对加载整个页面来说，大大节省了流量，减轻了服务器的负担。</p>
<p>现在绝大部分的网站，其实都用到了Ajax技术。</p>
<p>例如，豆瓣电影的影视页面，如下图所示，通过筛选栏筛选影视内容，我们会发现，页面并未重新刷新，仅仅是更新了影视内容。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123928.jpg" alt="img"> </p>
<p>再例如，我们访问京东首页时（如下图所示），内容只加载了部分，当鼠标往下滑动时，就会出现一个京东的吉祥物正在奔跑的图标，说明内容正在加载，不一会下方就会显示新的内容了。如果鼠标继续下滑，就会不断加载新内容。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329123928.jpg" alt="img"> </p>
<p>我们注意到页面其实并没有整个刷新，也就意味着页面的链接没有变化，但是网页中却多了新内容，也就是后面刷出来的内容。这就是通过Ajax获取新数据并呈现的过程。</p>
<p>对爬虫来说，当我们爬取数据失败时，就需要考虑网站可能是通过Ajax获取数据，再经过页面的解析和渲染显示在浏览器中，因此，分析了Ajax获取的数据的来源，爬虫也就能获取到这些数据了。</p>
<p><strong>Ajax介绍</strong></p>
<p>\1. <strong>Ajax概念</strong></p>
<p>Ajax，全称<strong>A</strong>synchronous <strong>J</strong>avaScript <strong>a</strong>nd <strong>X</strong>ML，即异步的JavaScript和XML。它不是新的编程语言，而是利用JavaScript在不重新加载整个页面的情况下，与服务器交换数据并更新部分网页内容的技术。</p>
<p>\2. <strong>基本原理</strong></p>
<p>来看一下Ajax实现的基本原理，发送Ajax请求到网页更新的过程简单分为三个步骤：</p>
<p>（1） 发送请求</p>
<p>当页面的某个地方需要更新数据时，会向服务器发送Ajax请求，请求的最底层是通过JavaScript实现的。</p>
<p>（2） 解析内容</p>
<p>服务器发送响应内容，可能是HTML代码或者JSON数据。使用JavaScript处理响应数据。</p>
<p>（3） 渲染网页</p>
<p>JavaScript有改变网页内容的能力，解析完响应内容之后，就可以调用JavaScript来针对解析完的内容对网页进行下一步处理了。</p>
<p>我们观察到，这3个步骤其实都是由JavaScript完成的，它完成了整个请求、解析和渲染的过程。</p>
<p>对于爬虫开发者来说，在爬取网页时，只要能够分析页面使用的是Ajax技术，对Ajax原理有个初步的认识即可。下面我们通过Chrome浏览器的“开发者工具”，来分析一下Ajax。</p>
<p><strong>Ajax分析方法</strong></p>
<p>对爬虫来说，我们不关心Ajax的实现原理，只要获取到通过Ajax请求的数据就大功告成了。那么，如何获取通过Ajax获取的数据呢？答案是：使用Chrome浏览器的“开发者工具”。</p>
<p>还是豆瓣电影的影视页面为例（<a target="_blank" href="https://movie.douban.com/tag/#/%EF%BC%89%E3%80%82%E6%89%93%E5%BC%80%E9%A1%B5%E9%9D%A2%E5%90%8E%EF%BC%8C%E4%BD%BF%E7%94%A8%E2%80%9C%E5%BC%80%E5%8F%91%E8%80%85%E5%B7%A5%E5%85%B7%E2%80%9D%EF%BC%8C%E6%8C%89%E7%85%A7%E4%B8%8B%E5%9B%BE%E7%9A%84%E9%A1%BA%E5%BA%8F%E7%82%B9%E5%87%BB%EF%BC%8C%E6%88%91%E4%BB%AC%E4%BC%9A%E5%8F%91%E7%8E%B0%EF%BC%8C%E5%BD%B1%E8%A7%86%E4%BF%A1%E6%81%AF%E7%9A%84%E6%95%B0%E6%8D%AE%E9%83%BD%E6%98%BE%E7%A4%BA%E5%9C%A8%E7%AC%AC5%E6%AD%A5%E4%B8%AD%E4%BA%86%E3%80%82" rel="external nofollow noreferrer noopener">https://movie.douban.com/tag/#/）。打开页面后，使用“开发者工具”，按照下图的顺序点击，我们会发现，影视信息的数据都显示在第5步中了。</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329124035.jpg" alt="img"></p>
<p>原来，“开发者工具”将通过Ajax请求响应的数据保存于“XHR”栏中了（下图第2步），在“Name”栏中（第3步），罗列了所有通过Ajax请求的响应接口，接口地址为：<a target="_blank" href="https://movie.douban.com/j/new_search_subjects?sort=U&amp;range=0,10&amp;tags=&amp;start=0%E3%80%82" rel="external nofollow noreferrer noopener">https://movie.douban.com/j/new_search_subjects?sort=U&amp;range=0,10&amp;tags=&amp;start=0。</a></p>
<p>对爬虫来说，要想获取Ajax请求的数据，只要得到接口地址，通过接口地址向服务器发送请求，数据不就能获取到了吗？</p>
<p>下面一起来看一下实现过程。</p>
<p><strong>豆瓣影视需求分析</strong></p>
<p>豆瓣影视框架搭建</p>
<p>豆瓣影视字段信息获取</p>
<p>豆瓣影视多页数据的爬取</p>
<p>豆瓣影视保存于MySQL中</p>
<p><strong>问题</strong></p>
<p>上一节，我们通过分析Ajax，获取数据的接口地址，使用爬虫，实现了数据的获取。</p>
<p>但是，我们很快发现，为了防止网络爬虫，加大网络爬虫的难度。很多网站将接口地址做了处理，它们更多的具有这些特点：</p>
<p>q 既冗长又复杂</p>
<p>q 经过加密</p>
<p>q 具有时效性</p>
<p>q 毫无规律可言</p>
<p>以今日头条为例，如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329124207.jpg" alt="img"> </p>
<p>其新闻信息的接口地址为：<a target="_blank" href="https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=0&amp;max_behot_time_tmp=0&amp;tadrequire=true&amp;as=A195DBDC06ADC25&amp;cp=5BC65DAC62854E1&amp;_signature=ZtN.cQAAPRnM.D.xF5yhvGbTf2%E3%80%82%E8%BF%99%E4%B8%AA%E6%8E%A5%E5%8F%A3%E5%9C%B0%E5%9D%80%E5%8F%88%E9%95%BF%E5%8F%88%E5%A4%8D%E6%9D%82%EF%BC%8C%E7%BB%8F%E8%BF%87%E5%8A%A0%E5%AF%86%E5%A4%84%E7%90%86%EF%BC%8C%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E5%90%8E%E5%B0%B1%E4%BC%9A%E5%A4%B1%E6%95%88%E3%80%82%E4%BB%8E%E4%B8%AD%E6%88%91%E4%BB%AC%E5%BE%88%E9%9A%BE%E6%89%BE%E5%87%BA%E8%A7%84%E5%BE%8B%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%97%A0%E6%B3%95%E7%88%AC%E5%8F%96%E6%9B%B4%E5%A4%9A%E7%9A%84%E6%96%B0%E9%97%BB%E4%BF%A1%E6%81%AF%E3%80%82" rel="external nofollow noreferrer noopener">https://www.toutiao.com/api/pc/feed/?category=news_hot&amp;utm_source=toutiao&amp;widen=1&amp;max_behot_time=0&amp;max_behot_time_tmp=0&amp;tadrequire=true&amp;as=A195DBDC06ADC25&amp;cp=5BC65DAC62854E1&amp;_signature=ZtN.cQAAPRnM.D.xF5yhvGbTf2。这个接口地址又长又复杂，经过加密处理，一段时间后就会失效。从中我们很难找出规律，也就无法爬取更多的新闻信息。</a></p>
<p>难道我们就束手无策了吗？继续往下看，Selenium能帮我们解决这个难题。</p>
<p><strong>Selenium介绍</strong></p>
<p>要解决上节的问题，我们的思路是：可以使用模拟浏览器运行的方式，它可以做到在浏览器中看到的是什么样，抓取的源码就是什么样，即可见即可爬。再也不用管网页内容是使用了JavaScrapt还是Ajax，也不用管接口有多复杂了（其实连接口是什么都不用管）。</p>
<p>Selenium 是一个用于Web应用程序测试的工具，它直接运行在浏览器中，就像真正的用户在操作一样。通俗点讲，它能直接驱动浏览器，模拟人的各种操作行为，如下拉、鼠标点击、键盘输入、拖拽等操作。最后可以获取页面渲染后的HTML代码。</p>
<p><strong>Selenium安装</strong></p>
<p>下面来看一下Selenium库和浏览器驱动程序的安装</p>
<p><strong>1.</strong>    <strong>安装Python支持的Selenium库</strong></p>
<p>安装Selenium非常简单，使用pip命令即可：</p>
<p>pip install selenium</p>
<p><strong>2.</strong>    <strong>安装浏览器驱动程序</strong></p>
<p>需要下载一个Selenium调用浏览器的驱动文件。我们以Chrome浏览器为例，看一下下载Chrome浏览器的驱动文件的步骤：</p>
<p>（1）    查看Chrome浏览器的版本。</p>
<p>首先要查看当前安装的Chrome浏览器的版本，以便下载与浏览器版本对应的驱动文件。</p>
<p>打开Chrome浏览器，点击菜单中的 “帮助”→“关于Google Chrome”，即可查看Chrome的版本号，如图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329124226.jpg" alt="img"> </p>
<p>（2）    下载Chromedriver。</p>
<p>以下为Chromedriver的下载地址。无法打开官方下载地址的读者，可以选择第二个下载地址。笔者安装的是ChromeDriver v2.43。该版本支持Chrome浏览器的v68-v71范围的版本。</p>
<p>q    官方下载地址：<a target="_blank" href="https://chromedriver.storage.googleapis.com/index.html%E3%80%82" rel="external nofollow noreferrer noopener">https://chromedriver.storage.googleapis.com/index.html。</a></p>
<p>q    其他下载地址：<a target="_blank" href="http://npm.taobao.org/mirrors/chromedriver/%E3%80%82" rel="external nofollow noreferrer noopener">http://npm.taobao.org/mirrors/chromedriver/。</a></p>
<p>（3）    配置环境变量。</p>
<p>最后，需要将驱动文件配置到环境变量中。在Windows下，将下载得到的chromedriver.exe文件拖到Anaconda3的Scripts目录下就可以了，如：C:\Anaconda3\Scripts下。</p>
<p><strong>Selenium环境搭建</strong></p>
<p><strong>Selenium简单实现_百度搜索</strong></p>
<p><strong>Selenium语法</strong></p>
<p>\1. <strong>声明浏览器对象</strong></p>
<p>Selenium支持很多浏览器，如Chrome、Firefox、IE、Opera、Safari等，还有Android、BlackBerry等手机端的浏览器。selenium.webdriver 模块提供了所有浏览器的驱动（WebDriver），可以生成不同浏览器的对象。</p>
<p>下面是声明不同浏览器对象的实现代码：</p>
<p>from selenium import webdriver</p>
<p>driver = webdriver.Chrome() #声明Chrome浏览器对象<br>driver = webdriver.ie()    #声明ie浏览器对象<br>driver = webdriver.firefox()  #声明firefox浏览器对象<br>driver = webdriver.phantomjs()#声明phantomjs浏览器对象<br>driver = webdriver.safari()  #声明safari浏览器对象</p>
<p>\2. <strong>访问页面</strong></p>
<p>可以使用get方法实现页面的访问：</p>
<p>driver.get(“<a target="_blank" href="https://www.suning.com/&quot;)#%E8%AF%B7%E6%B1%82%E9%A1%B5%E9%9D%A2" rel="external nofollow noreferrer noopener">https://www.suning.com/&quot;)#请求页面</a></p>
<p>\3. <strong>获取页面代码</strong></p>
<p>使用driver的page_source属性获取页面的HMTL代码：</p>
<p>#获取代码<br>HTML=driver.page_source</p>
<p>\4. <strong>定位元素</strong></p>
<p>当获取到HTML代码后，就需要定位到HTML的各个元素，以便提取数据或者对该元素执行诸如输入、点击操作。WebDriver 提供了大量的方法查询页面中的节点，这些方法形如：find_element_by_*。</p>
<p>以下为Selenium查找单个节点的方法。</p>
<p>q find_element_by_id：通过ID查找</p>
<p>q find_element_by_name：通过NAME查找</p>
<p>q find_element_by_xpath：通过xpath选择器查找</p>
<p>q find_element_by_link_text：通过链接的文本查找（完全匹配）</p>
<p>q find_element_by_partial_link_text：通过链接的文本查找（部分匹配）</p>
<p>q find_element_by_tag_name：通过标签名查找</p>
<p>q find_element_by_class_name：通过CLASS查找</p>
<p>q find_element_by_css_selector：通过css选择器查找</p>
<p>\5. <strong>页面交互</strong></p>
<p>Selenium可以模拟用户对页面执行一系列操作，如输入数据、清除数据、单击按钮等。以下代码实现了定位到搜索框后，清空搜索框中的文字，输入“iphone”，回车的功能。</p>
<p>input = driver.find_element_by_id(“searchKeywords”)#查找节点<br>input.clear()#清除输入框中默认文字<br>input.send_keys(“iphone”)#输入框中输入“iphone”<br>input.send_keys(Keys.RETURN)#回车功能</p>
<p>\6. <strong>执行**</strong>JavaScript**</p>
<p>Selenium并未提供所有的页面交互操作方法，例如爬虫中用得最多的下拉页面（用于加载更多内容）。Selenium提供了execute_script()方法，用于执行JS，这样我们就可以通过JS代码实现这些操作了。以下代码实现了将页面下拉到底部的功能。</p>
<p>driver.execute_script(‘window.scrollTo(0, document.body.scrollHeight)’)</p>
<p>更多关于Selenium的语法，可以参考Selenium with Python的中文文档。</p>
<p>地址为：<a target="_blank" href="https://selenium-python-zh.readthedocs.io/en/latest/index.html#%E3%80%82" rel="external nofollow noreferrer noopener">https://selenium-python-zh.readthedocs.io/en/latest/index.html#。</a></p>
<p><strong>我们使用Selenium实现一个案例</strong></p>
<h2 id="五、2天学会Scrapy框架爬虫"><a href="#五、2天学会Scrapy框架爬虫" class="headerlink" title="五、2天学会Scrapy框架爬虫"></a>五、2天学会Scrapy框架爬虫</h2><h3 id="Scrapy框架结构"><a href="#Scrapy框架结构" class="headerlink" title="Scrapy框架结构"></a>Scrapy框架结构</h3><p>第一章网络爬虫基础中，我们学习了爬虫原理和HTTP基本原理，理解了这些，就不难理解Scrapy的框架结构了，因为Scrapy框架结构和流程设计遵循网络爬虫的基本原理。</p>
<p>下图展示了Scrapy的框架结构。包含了不同功能的组件、系统中发生的数据流以及执行流程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329154336.jpg" alt="Scrapy框架结构"> </p>
<p>首先来看一下框架结构中的各个组件：</p>
<p>q 引擎（ENGINE）</p>
<p>引擎犹如总指挥，是整个系统的大脑，指挥其他组件协同工作。</p>
<p>q 调度器（SCHEDULER）</p>
<p>调度器接收引擎发过来的请求，压入队列中。调度器根据请求先后顺序，确定执行顺序。同时去除重复的请求。</p>
<p>q 下载器（DOWNLOADER）</p>
<p>用于下载网页内容，并将网页内容返回给爬虫（Scrapy下载器是建立在twisted这个高效的异步模型上的）</p>
<p>q 爬虫（SPIDERS）</p>
<p>最核心的组件，用于从特定的网页中提取自己需要的信息，即所谓的实体（Item）。用户也可以从中提取出链接，让Scrapy继续抓取下一个页面。</p>
<p>q 项目管道（ITEM PIPELINES）</p>
<p>负责处理爬虫从网页中抽取的实体，主要的功能是持久化实体、验证实体的有效性、清除不需要的信息。</p>
<p>q 下载器中间件（Downloader Middlewares）</p>
<p>介于引擎和下载器之间的组件，主要是处理Scrapy引擎与下载器之间的请求及响应。</p>
<p>q 爬虫中间件（Spider Middlewares）</p>
<p>介于引擎和爬虫之间的组件，主要工作是处理爬虫的响应输入和请求输出。</p>
<h3 id="Scrapy框架结构-数据流"><a href="#Scrapy框架结构-数据流" class="headerlink" title="Scrapy框架结构-数据流"></a>Scrapy框架结构-数据流</h3><p>我们都知道，爬虫中的数据主要有两种，一是向服务器发送请求的Request请求数据，二是服务器响应返回给浏览器的Response响应数据，Scrapy中的数据流是怎样的呢？下图为Scrapy的框架结构。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329154633.jpg" alt="img"> </p>
<p>来看一下Scrapy框架结构中展示的数据流，上图中的REQUESTS和RESPONSE分别表示请求数据和响应数据流：</p>
<p>Scrapy框架结构中传递和处理的数据主要有：</p>
<p>q 向网站服务器发送的请求数据（请求的内容见第一章的HTTP请求）</p>
<p>q 网站服务器返回的响应数据（响应的内容见第一章的HTTP响应）</p>
<p>q 解析后的结构数据（类似于字典）</p>
<p>Scrapy中定义的Request和Response类用于保存请求和响应数据，Item类保存解析后的结构数据，如下图所示</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329154915.png" alt="请求流程"></p>
<h3 id="Scrapy执行流程"><a href="#Scrapy执行流程" class="headerlink" title="Scrapy执行流程"></a>Scrapy执行流程</h3><p>下面从数据流的角度揭示Scrapy框架的执行流程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329155122.jpeg" alt="img"> </p>
<p>上图中第①②③④步执行的是HTTP请求，传递和处理的是向网站服务器发送的请求数据。</p>
<p><strong>第**</strong>①**<strong>步</strong>：爬虫（Spider）使用URL（要爬取页面的网址）构造一个请求（Request）对象，提交给引擎（ENGINE）。如果请求要伪装成浏览器，或者设置代理IP，可以先在爬虫中间件中设置，再发送给引擎。</p>
<p><strong>第**</strong>②**<strong>步</strong>：引擎将请求安排给调度器，调度器根据请求的优先级确定执行顺序。</p>
<p><strong>第**</strong>③**<strong>步</strong>：引擎从调度器获取即将要执行的请求。</p>
<p><strong>第**</strong>④**<strong>步</strong>：引擎通过下载器中间件，将请求发送给下载器下载页面。</p>
<p>上图中第⑤⑥⑦⑧步执行的是HTTP响应，传递和处理的是网站服务器返回的响应数据。</p>
<p><strong>第**</strong>⑤**<strong>步</strong>：页面完成下载后，下载器会生成一个响应（Response）对象并将其发送给引擎。下载后的数据就是保存于响应对象中的。</p>
<p><strong>第**</strong>⑥**<strong>步</strong>：引擎接收来自下载器的响应对象后，通过爬虫中间件，将其发送给爬虫（Spider）进行处理。</p>
<p><strong>第**</strong>⑦**<strong>步</strong>：爬虫将抽取到的一条数据实体（Item）和新的请求（如下一页的链接）发送给引擎。</p>
<p><strong>第**</strong>⑧**<strong>步</strong>：引擎将从爬虫获取到的Item发送给项目管道（ITEM PIPELINES），项目管道实现数据持久化等功能；将新的请求发送给调度器，再从第②步开始重复执行，直到调度器中没有更多的请求，引擎关闭该网站。</p>
<h3 id="Scrapy安装"><a href="#Scrapy安装" class="headerlink" title="Scrapy安装"></a>Scrapy安装</h3><p>Scrapy框架的安装非常简单，使用pip命令：</p>
<p>pip install scrapy</p>
<p>安装完后验证安装是否成功，输入如下代码，执行。</p>
<p>import scrapy</p>
<p>print(scrapy.version_info)</p>
<p>执行代码，没有任何错误，说明安装成功，执行后的结果为scrapy的安装版本：</p>
<p>(1, 5, 1)</p>
<h3 id="第一个Scrapy网络爬虫-豆瓣电影"><a href="#第一个Scrapy网络爬虫-豆瓣电影" class="headerlink" title="第一个Scrapy网络爬虫-豆瓣电影"></a>第一个Scrapy网络爬虫-豆瓣电影</h3><h3 id="Spider组件介绍"><a href="#Spider组件介绍" class="headerlink" title="Spider组件介绍"></a>Spider组件介绍</h3><p>Scrapy网络爬虫编程的核心就是爬虫（Spider）组件，它其实是一个继承于Spider的类，主要功能是封装一个发送给网站服务器的HTTP请求，以及解析网站返回的网页、提取数据。</p>
<p>Spider组件解决了以下问题：</p>
<p>q 爬虫从哪个或哪些页面开始爬取。</p>
<p>q 对于一个已下载的页面，提取其中的哪些数据。</p>
<p>q 爬取完当前页面后，接下来爬取哪个或哪些页面。</p>
<p>上面问题的答案包含了一个爬虫最重要的逻辑，回答了这些问题，一个爬虫也就开发出来了。</p>
<p>接下来，通过一个具体案例，讲解一个Spider的开发流程，实现数据的爬取功能。</p>
<h3 id="Item介绍"><a href="#Item介绍" class="headerlink" title="Item介绍"></a>Item介绍</h3><p>上节通过Spider爬取到了数据，为了收集抓取到的这些数据，Scrapy提供了一个简单的容器Item。Item对象是一个简单的容器，用于收集抓取到的数据，其提供了类似于字典（dictionary-like）的API并具有用于声明可用字段的简单语法。</p>
<p>Scrapy还定义了一个类Field，用于描述自定义数据类包含的字段。</p>
<p>下面继续完成上节未完成的案例，实现使用Item封装数据。</p>
<h3 id="Pipeline介绍"><a href="#Pipeline介绍" class="headerlink" title="Pipeline介绍"></a>Pipeline介绍</h3><p>当我们通过Spider爬取数据，通过Item收集数据后，就需要对数据进行一些处理了，因为我们爬取到的数据并不一定是我们想要的最终数据，可能还需要进行数据的清洗以及验证数据的有效性。Scrapy中的Pipeline组件就用于数据的处理，一个Pipeline组件就是一个包含特定接口的类，通常只负责一种功能的数据处理，在一个项目中可以同时启用多个Pipeline。</p>
<p>以下是Pipeline的几种典型应用：</p>
<p>q 清洗数据</p>
<p>q 验证数据的有效性</p>
<p>q 过滤掉重复的数据</p>
<p>将数据存入数据库</p>
<h3 id="第二个Scrapy网络爬虫-校花爬爬爬"><a href="#第二个Scrapy网络爬虫-校花爬爬爬" class="headerlink" title="第二个Scrapy网络爬虫-校花爬爬爬"></a>第二个Scrapy网络爬虫-校花爬爬爬</h3><p><strong>图片URL获取</strong></p>
<p><strong>图片下载</strong></p>
<p><strong>实现缩略图</strong></p>
<h3 id="第三个Scrapy网络爬虫-职业职场"><a href="#第三个Scrapy网络爬虫-职业职场" class="headerlink" title="第三个Scrapy网络爬虫-职业职场"></a>第三个Scrapy网络爬虫-职业职场</h3><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>本章首先介绍了Scrapy的框架结构，然后使用Scrapy框架实现了第一个网络爬虫，接着分别介绍了Scrapy的三大组件Spider、Item、Pipeline，最后实现了一个案例-将图片下载到本地。</p>
<p>Scrapy功能强大，效率较高，本章只是讲解了其中比较常见的功能，更多功能，请参考Scrapy的官方文档，地址为：<a target="_blank" href="https://doc.scrapy.org/en/latest/intro/tutorial.html%E3%80%82" rel="external nofollow noreferrer noopener">https://doc.scrapy.org/en/latest/intro/tutorial.html。</a></p>
<h2 id="六、1天学会Scrapy分布式爬虫"><a href="#六、1天学会Scrapy分布式爬虫" class="headerlink" title="六、1天学会Scrapy分布式爬虫"></a>六、1天学会Scrapy分布式爬虫</h2><p>面章节，我们都是在一台机器上运行网络爬虫。单机由于受硬件和网络带宽的限制，如果爬取的数据量较大，就需要耗费很长时间。为了解决这个问题，我们可以在多台计算机上同时运行网络爬虫，以“人多力量大”的思想，共同完成一个大型爬取任务。</p>
<p>本章将学习爬虫的分布式部署及实现。主要内容包括：</p>
<p>\1. 分布式爬虫原理</p>
<p>介绍分布式爬虫的实现原理、分布式爬虫库Scrapy-Redis。建议学习时长为1.5学时。</p>
<p>\2. Scrapy分布式实现</p>
<p>在多台机器上部署分布式爬虫，实现分布式功能。建议学习时长3学时。</p>
<h3 id="分布式爬虫基本原理"><a href="#分布式爬虫基本原理" class="headerlink" title="分布式爬虫基本原理"></a>分布式爬虫基本原理</h3><p>分布式爬虫的思想是“人多力量大”，在网络中的多台计算机上同时运行爬虫程序，共同完成一个大型爬取任务。</p>
<p>Scrapy爬虫框架本身不支持分布式爬虫，要使其支持分布式爬虫，就需要对Scrapy框架做一些修改，先来看一下原始的Scrapy框架结构图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329155948.jpg" alt="img"></p>
<p>该流程简单来说，就是：Spiders生成的请求经由Scheduler调度器发送给Downloader下载器，Downloader下载器从internet下载所需要的网络数据，返回response给Spiders，Spiders接着把数据放进item容器。</p>
<h3 id="Scrapy-Redis"><a href="#Scrapy-Redis" class="headerlink" title="Scrapy-Redis"></a>Scrapy-Redis</h3><p>如何实现分布式爬虫呢？这就要用到第三方库Scrapy-Redis了。它为Scrapy框架拓展了分布式爬取的功能，两者结合便是一个分布式Scrapy爬虫框架。</p>
<p>加上Scrapy-Redis之后的架构如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329160010.jpg" alt="img"> </p>
<p>如上图所示，scrapy-redis在scrapy的架构上增加了Redis。它利用Redis对请求(Requests)进行存储和调度(Schedule)，并对爬取产生的项目(Items)存储以供后续处理使用。Scrapy-Redis为多个爬虫分配爬取任务的方式是：让所有爬虫共享一个存在于Redis数据库中的请求队列（替代各爬虫独立的请求队列），每个爬虫从请求队列中获取请求，下载并解析页面后，将解析出的新请求再添加到请求队列中，因此每个爬虫既是下载任务的生产者有时消费者。</p>
<h3 id="分布式爬虫"><a href="#分布式爬虫" class="headerlink" title="分布式爬虫"></a>分布式爬虫</h3><p>为实现多个爬虫的任务分配，Scrapy-Redis重新实现了Scrapy中的以下组件：</p>
<p>q Scheduler：Scrapy不支持多个Spider共享同一个队列（每个Spider各自独立），这就是Scrapy不支持分布式爬虫的原因之一，Scrapy-Redis的解决方法是把Scrapy的队列换成Redis数据库（即Redis队列）。将要爬取的Request存放在同一个Redis数据库中，多个Spider都读取同一个Reids数据库中的Request。</p>
<p>q Duplication Filter：在Scrapy-Redis中去重是由Duplication Filter组件来实现的，它通过Redis的set不重复的特性，巧妙的实现了DuplicationFilter去重。Scrapy-Redis调度器从引擎接受Request，将Request存入Redis的set检查是否重复，并将不重复的Request写入Redis的Request队列。</p>
<p>当请求Request(Spider发出的）时，调度器从Redis的Request队列里根据优先级取出⼀个Request 返回给引擎，引擎将此Request发给Spider处理。</p>
<p>q Item Pipeline：在分布式爬虫框架中，各个主机爬取到的数据最终要统一汇总到同一个地方，通常是某个数据库。Scrapy-Redis提供了一个Item Pipeline（RedisPipeline），用于将各个爬虫爬取到的数据存入同一个Redis数据库中。</p>
<p>Spider：Scrapy-Redis重写了Scrapy的类Spider，重写的RedisSpider继承了Spider和RedisMixin这两个类，RedisMixin是用来从redis读取url的类。</p>
<h3 id="分布式爬虫架构"><a href="#分布式爬虫架构" class="headerlink" title="分布式爬虫架构"></a>分布式爬虫架构</h3><p>搭建分布式爬虫，一般需要一台主机和N台从机。主机用于分配任务、去重；从机负责从主机获取任务，执行数据抓取、数据处理、数据存储。如下图所示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/aibittek/ImageHost/img/20210329160121.jpg" alt="img"> </p>
<p>主要流程为：Slaver端从Master端获取任务（Request/url/ID），进行数据抓取，在抓取数据的同时也生成新任务，并将任务抛给Master。Master端只有一个Redis数据库，负责对Slaver提交的任务进行去重、加入待爬队列。</p>
<p>这种方式有其优缺点：</p>
<p>优点：scrapy-redis默认使用的就是这种策略，我们实现起来很简单，因为任务调度等工作scrapy-redis都已经帮我们做好了，我们只需要继承RedisSpider、指定redis_key就行了。</p>
<p>缺点：scrapy-redis调度的任务是Request对象，里面信息量比较大（不仅包含url，还有callback函数、headers等信息），导致的结果就是会降低爬虫速度、而且会占用Redis大量的存储空间。当然我们可以重写方法实现调度url。</p>
<h3 id="分布式爬虫环境搭建"><a href="#分布式爬虫环境搭建" class="headerlink" title="分布式爬虫环境搭建"></a>分布式爬虫环境搭建</h3><p>来看一下实现分布式爬虫需要的环境。</p>
<p>\1. 安装Redis数据库。</p>
<p>Redis数据库是分布式爬虫必备的环境，需要在主机（Master）上安装好Redis数据库。关于Redis数据库的安装，可以参考第三章中“使用Redis持久化数据”一节，在此不再赘述。</p>
<p>\2. 配置Redis环境</p>
<p>Redis数据库默认只能本机访问，其他机器是无法访问的，因此需要设置一下Redis环境，使得从机（Slaver）也可以访问。</p>
<p>在Redis目录下，找到并打开redis.windows-service.conf文件，做如下设置：</p>
<p>（1） 将bind 127.0.0.1注释掉</p>
<p>（2） 将protected-mode由yes设置为no</p>
<p>\3. 安装Redis数据库可视化工具：RedisDesktopManager。</p>
<p>RedisDesktopManager是一款Redis可视化工具，使用该工具可以简单快捷地查看Redis数据库中的额数据。也可以参考第三章中“使用Redis持久化数据”一节，不再赘述。</p>
<p>\4. 安装Scrapy-Redis库。</p>
<p>Scrapy-Redis库是分布式爬虫的核心库，它重写了Scrapy框架中的部分功能，使得Scrapy具有分布式爬虫的功能，安装Scrapy-Redis库非常简单，使用pip命令即可：</p>
<p>pip install scrapy-redis</p>
<p>下面通过具体的视频详细了解一下环境搭建和环境配置的方法。</p>
<h3 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h3><h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><ol>
<li><a target="_blank" href="https://docs.python.org/zh-cn/3/" rel="external nofollow noreferrer noopener">https://docs.python.org/zh-cn/3/</a> python官方文档</li>
<li><a target="_blank" href="https://www.runoob.com/python3/" rel="external nofollow noreferrer noopener">https://www.runoob.com/python3/</a> python入门菜鸟教程</li>
<li><a target="_blank" href="https://www.liaoxuefeng.com/wiki/1016959663602400" rel="external nofollow noreferrer noopener">https://www.liaoxuefeng.com/wiki/1016959663602400</a> 廖雪峰的python教程</li>
<li><a target="_blank" href="https://docs.scrapy.org/en/latest/" rel="external nofollow noreferrer noopener">https://docs.scrapy.org/en/latest/</a> Scrapy官方文档</li>
<li><a target="_blank" href="https://www.runoob.com/w3cnote/scrapy-detail.html" rel="external nofollow noreferrer noopener">https://www.runoob.com/w3cnote/scrapy-detail.html</a> Scrapy入门教程</li>
<li><a target="_blank" href="http://www.scrapyd.cn/doc/137.html" rel="external nofollow noreferrer noopener">http://www.scrapyd.cn/doc/137.html</a> Scrapy中文学习</li>
<li>另外参考了github上的众多开源项目，由于参考比较多，不一一列举，如有侵权请告知</li>
</ol>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">比特人生的世界</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://kui.ge/2021/03/pythonspider/">https://kui.ge/2021/03/pythonspider/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">比特人生的世界</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/python/">
                                    <span class="chip bg-color">python</span>
                                </a>
                            
                                <a href="/tags/scrapy/">
                                    <span class="chip bg-color">scrapy</span>
                                </a>
                            
                                <a href="/tags/%E7%88%AC%E8%99%AB/">
                                    <span class="chip bg-color">爬虫</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '8e2fa5d09cd99b02327a',
        clientSecret: '4133c74a7f787b5ed7c5174939967a35772d3153',
        proxy: 'https://netnr-proxy.cloudno.de/https://github.com/login/oauth/access_token',
        repo: 'aibittek.github.io',
        owner: 'aibittek',
        admin: "aibittek",
        id: '2021-03-16T17-44-02',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/04/snowboy-hotword-detect/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="snowboy_hotword_detect">
                        
                        <span class="card-title">snowboy_hotword_detect</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-04-11
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/MarsRescue/" class="post-category">
                                    MarsRescue
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/snowboy/">
                        <span class="chip bg-color">snowboy</span>
                    </a>
                    
                    <a href="/tags/hotword/">
                        <span class="chip bg-color">hotword</span>
                    </a>
                    
                    <a href="/tags/%E5%94%A4%E9%86%92%E8%AF%8D/">
                        <span class="chip bg-color">唤醒词</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/02/walle/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/19.jpg" class="responsive-img" alt="WALLE">
                        
                        <span class="card-title">WALLE</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-02-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/MarsPlan/" class="post-category">
                                    MarsPlan
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/WALLE/">
                        <span class="chip bg-color">WALLE</span>
                    </a>
                    
                    <a href="/tags/WALL-E/">
                        <span class="chip bg-color">WALL-E</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">比特人生的世界</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">63.9k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/aibittek" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:55239610@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=群号:217197707" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 群号:217197707" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>





    <a href="https://www.zhihu.com/people/yidoumi" class="tooltipped" target="_blank" data-tooltip="关注我的知乎: https://www.zhihu.com/people/yidoumi" data-position="top" data-delay="50">
        <i class="fab fa-zhihu1">知</i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    
    
    <script type="text/javascript" size="150" alpha='0.6'
        zIndex="-1" src="/libs/background/ribbon-refresh.min.js" async="async"></script>
    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
